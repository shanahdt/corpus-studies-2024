<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.3.433">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">


<title>Corpus Studies in Music - Week 7: Classifying</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
/* CSS for syntax highlighting */
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
  }
pre.numberSource { margin-left: 3em;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
</style>


<script src="../site_libs/quarto-nav/quarto-nav.js"></script>
<script src="../site_libs/quarto-nav/headroom.min.js"></script>
<script src="../site_libs/clipboard/clipboard.min.js"></script>
<script src="../site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="../site_libs/quarto-search/fuse.min.js"></script>
<script src="../site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="../">
<link href="../class_notes/week_6.html" rel="prev">
<script src="../site_libs/quarto-html/quarto.js"></script>
<script src="../site_libs/quarto-html/popper.min.js"></script>
<script src="../site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="../site_libs/quarto-html/anchor.min.js"></script>
<link href="../site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="../site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" class="quarto-color-scheme" id="quarto-text-highlighting-styles">
<link href="../site_libs/quarto-html/quarto-syntax-highlighting-dark.css" rel="prefetch" class="quarto-color-scheme quarto-color-alternate" id="quarto-text-highlighting-styles">
<script src="../site_libs/bootstrap/bootstrap.min.js"></script>
<link href="../site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="../site_libs/bootstrap/bootstrap.min.css" rel="stylesheet" class="quarto-color-scheme" id="quarto-bootstrap" data-mode="light">
<link href="../site_libs/bootstrap/bootstrap-dark.min.css" rel="prefetch" class="quarto-color-scheme quarto-color-alternate" id="quarto-bootstrap" data-mode="dark">
<script id="quarto-search-options" type="application/json">{
  "location": "sidebar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "start",
  "type": "textbox",
  "limit": 20,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script>

<script src="../site_libs/htmlwidgets-1.6.1/htmlwidgets.js"></script>
<link href="../site_libs/datatables-css-0.0.0/datatables-crosstalk.css" rel="stylesheet">
<script src="../site_libs/datatables-binding-0.27/datatables.js"></script>
<script src="../site_libs/jquery-3.6.0/jquery-3.6.0.min.js"></script>
<link href="../site_libs/dt-core-1.12.1/css/jquery.dataTables.min.css" rel="stylesheet">
<link href="../site_libs/dt-core-1.12.1/css/jquery.dataTables.extra.css" rel="stylesheet">
<script src="../site_libs/dt-core-1.12.1/js/jquery.dataTables.min.js"></script>
<link href="../site_libs/nouislider-7.0.10/jquery.nouislider.min.css" rel="stylesheet">
<script src="../site_libs/nouislider-7.0.10/jquery.nouislider.min.js"></script>
<link href="../site_libs/selectize-0.12.0/selectize.bootstrap3.css" rel="stylesheet">
<script src="../site_libs/selectize-0.12.0/selectize.min.js"></script>
<link href="../site_libs/crosstalk-1.2.0/css/crosstalk.min.css" rel="stylesheet">
<script src="../site_libs/crosstalk-1.2.0/js/crosstalk.min.js"></script>


<meta property="og:title" content="Corpus Studies in Music - Week 7: Classifying">
<meta property="og:description" content="">
<meta property="og:image" content="https://shanahdt.github.io/corpus-studies-2024/class_notes/week_7_files/figure-html/unnamed-chunk-6-1.png">
<meta property="og:site-name" content="Corpus Studies in Music">
<meta property="og:image:height" content="960">
<meta property="og:image:width" content="1344">
</head>

<body class="nav-sidebar docked">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
  <nav class="quarto-secondary-nav">
    <div class="container-fluid d-flex">
      <button type="button" class="quarto-btn-toggle btn" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar,#quarto-sidebar-glass" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
        <i class="bi bi-layout-text-sidebar-reverse"></i>
      </button>
      <nav class="quarto-page-breadcrumbs" aria-label="breadcrumb"><ol class="breadcrumb"><li class="breadcrumb-item"><a href="../class_notes/week_1.html">Class Notes</a></li><li class="breadcrumb-item"><a href="../class_notes/week_7.html">Week 7: Classifying</a></li></ol></nav>
      <a class="flex-grow-1" role="button" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar,#quarto-sidebar-glass" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">      
      </a>
      <button type="button" class="btn quarto-search-button" aria-label="" onclick="window.quartoOpenSearch();">
        <i class="bi bi-search"></i>
      </button>
    </div>
  </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article">
<!-- sidebar -->
  <nav id="quarto-sidebar" class="sidebar collapse collapse-horizontal sidebar-navigation docked overflow-auto">
    <div class="pt-lg-2 mt-2 text-left sidebar-header">
    <div class="sidebar-title mb-0 py-0">
      <a href="../">Corpus Studies in Music</a> 
        <div class="sidebar-tools-main">
  <a href="" class="quarto-color-scheme-toggle quarto-navigation-tool  px-1" onclick="window.quartoToggleColorScheme(); return false;" title="Toggle dark mode"><i class="bi"></i></a>
</div>
    </div>
      </div>
        <div class="mt-2 flex-shrink-0 align-items-center">
        <div class="sidebar-search">
        <div id="quarto-search" class="" title="Search"></div>
        </div>
        </div>
    <div class="sidebar-menu-container"> 
    <ul class="list-unstyled mt-1">
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-1" aria-expanded="true">
 <span class="menu-text">Resources</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-1" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-1" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../course-syllabus.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Syllabus</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../course-schedule.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Schedule</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../some-troubleshooting.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Some Troubleshooting</span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-2" aria-expanded="true">
 <span class="menu-text">Class Notes</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-2" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-2" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../class_notes/week_1.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Week 1: Representing Musical Data</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../class_notes/week_2.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Week 2: Melodic and Harmonic Intervals</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../class_notes/week_3.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Week 3: Data Analysis, Time, Cadences, Phrases, <em>etc.</em></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../class_notes/week_4.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Week 4: Conceptual Debates (Key-Finding, Entropy, etc.)</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../class_notes/week_5.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Week 5: Practicing with Spotify</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../class_notes/week_6.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Week 6: Regression and Clustering</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../class_notes/week_7.html" class="sidebar-item-text sidebar-link active">
 <span class="menu-text">Week 7: Classifying</span></a>
  </div>
</li>
      </ul>
  </li>
    </ul>
    </div>
</nav>
<div id="quarto-sidebar-glass" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar,#quarto-sidebar-glass"></div>
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">On this page</h2>
   
  <ul>
  <li><a href="#this-weeks-plan" id="toc-this-weeks-plan" class="nav-link active" data-scroll-target="#this-weeks-plan">This Week’s Plan</a>
  <ul class="collapse">
  <li><a href="#pca-and-authorship" id="toc-pca-and-authorship" class="nav-link" data-scroll-target="#pca-and-authorship">PCA and Authorship</a></li>
  <li><a href="#classifiers" id="toc-classifiers" class="nav-link" data-scroll-target="#classifiers">Classifiers</a></li>
  <li><a href="#returning-to-our-christmas-song-problem" id="toc-returning-to-our-christmas-song-problem" class="nav-link" data-scroll-target="#returning-to-our-christmas-song-problem">Returning to our Christmas Song Problem</a>
  <ul class="collapse">
  <li><a href="#what-is-the-model-using" id="toc-what-is-the-model-using" class="nav-link" data-scroll-target="#what-is-the-model-using">What is the model using?</a></li>
  </ul></li>
  <li><a href="#exercise" id="toc-exercise" class="nav-link" data-scroll-target="#exercise">Exercise</a></li>
  </ul></li>
  <li><a href="#wednesday" id="toc-wednesday" class="nav-link" data-scroll-target="#wednesday">Wednesday</a>
  <ul class="collapse">
  <li><a href="#john-or-paul" id="toc-john-or-paul" class="nav-link" data-scroll-target="#john-or-paul">John or Paul?</a>
  <ul class="collapse">
  <li><a href="#getting-the-data" id="toc-getting-the-data" class="nav-link" data-scroll-target="#getting-the-data">Getting the Data</a></li>
  </ul></li>
  <li><a href="#cross-validation" id="toc-cross-validation" class="nav-link" data-scroll-target="#cross-validation">Cross-Validation</a>
  <ul class="collapse">
  <li><a href="#k-folds-cross-validation" id="toc-k-folds-cross-validation" class="nav-link" data-scroll-target="#k-folds-cross-validation">K-folds cross validation:</a></li>
  </ul></li>
  <li><a href="#other-models" id="toc-other-models" class="nav-link" data-scroll-target="#other-models">Other Models</a>
  <ul class="collapse">
  <li><a href="#neural-net" id="toc-neural-net" class="nav-link" data-scroll-target="#neural-net">Neural Net</a></li>
  </ul></li>
  <li><a href="#comparing-models" id="toc-comparing-models" class="nav-link" data-scroll-target="#comparing-models">Comparing Models</a>
  <ul class="collapse">
  <li><a href="#grabbing-beatles-data" id="toc-grabbing-beatles-data" class="nav-link" data-scroll-target="#grabbing-beatles-data">Grabbing Beatles Data</a></li>
  <li><a href="#predicting" id="toc-predicting" class="nav-link" data-scroll-target="#predicting">Predicting</a></li>
  </ul></li>
  <li><a href="#summary" id="toc-summary" class="nav-link" data-scroll-target="#summary">Summary</a>
  <ul class="collapse">
  <li><a href="#exercise-1" id="toc-exercise-1" class="nav-link" data-scroll-target="#exercise-1">Exercise:</a></li>
  </ul></li>
  </ul></li>
  </ul>
<div class="toc-actions"><div><i class="bi bi-github"></i></div><div class="action-links"><p><a href="https://github.com/shanahdt/corpus-studies-2024/edit/main/class_notes/week_7.qmd" class="toc-action">Edit this page</a></p><p><a href="https://github.com/shanahdt/corpus-studies-2024/issues/new" class="toc-action">Report an issue</a></p></div></div></nav>
    </div>
<!-- main -->
<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title">Week 7: Classifying</h1>
</div>



<div class="quarto-title-meta">

    
  
    
  </div>
  

</header>

<section id="this-weeks-plan" class="level1">
<h1>This Week’s Plan</h1>
<ul>
<li>Look at running a principal components analysis for authorship</li>
<li>Work on some models for classifying data</li>
<li>Discuss how we might evaluate our models</li>
</ul>
<p>This week, we will start by moving from clustering to PCA, or pricinpal components analysis. PCA is often seen as a way of reducing the dimensions of features, and here we will explore what it looks like when exploring questions of authorship.</p>
<p>We will follow this by looking at what it means to train a classifier, and some of the research questions we might ask of a classifier. ## Getting Started We will be using a of libraries today:</p>
<section id="pca-and-authorship" class="level2">
<h2 class="anchored" data-anchor-id="pca-and-authorship">PCA and Authorship</h2>
<p>PCAs are often used for reducing dimensions when we have lots of variables but a model might be better suited from combining those variables. PCAs have also been used a fair bit to explore questions of authorship. Here we have a question of authorship using symbolic data taken from scores. We are trying to explore the music of Josquin.</p>
<p>Here we load the data in:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb1"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="co"># complete_data &lt;- read_csv(here("data", "attribution_data_new.csv", na.strings=c("","NA", header=T)))</span></span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a>complete_data <span class="ot">&lt;-</span> <span class="fu">read.csv</span>(<span class="st">"../data/attribution_data_new.csv"</span>, <span class="at">na.strings=</span><span class="fu">c</span>(<span class="st">""</span>,<span class="st">"NA"</span>), <span class="at">header=</span>T)</span>
<span id="cb1-3"><a href="#cb1-3" aria-hidden="true" tabindex="-1"></a>complete_data <span class="ot">&lt;-</span> complete_data[,<span class="sc">-</span><span class="dv">62</span>]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Jesse Rodin’s <em>Josquin Research Project</em> has given levels of security for attribution, including pieces that we know are Josquin’s, those we think might be, and those which are more questionable.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb2"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb2-1"><a href="#cb2-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Josquin attribution level 1 and palestrina</span></span>
<span id="cb2-2"><a href="#cb2-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-3"><a href="#cb2-3" aria-hidden="true" tabindex="-1"></a>josquin <span class="ot">&lt;-</span> complete_data[complete_data<span class="sc">$</span>Composer <span class="sc">==</span> <span class="st">'Josquin des Prez'</span>,<span class="sc">-</span><span class="dv">12</span>]</span>
<span id="cb2-4"><a href="#cb2-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-5"><a href="#cb2-5" aria-hidden="true" tabindex="-1"></a>josquin_secure <span class="ot">&lt;-</span> josquin[josquin<span class="sc">$</span>Attribution.Level <span class="sc">&lt;=</span> <span class="dv">2</span> ,]</span>
<span id="cb2-6"><a href="#cb2-6" aria-hidden="true" tabindex="-1"></a>josquin_secure<span class="sc">$</span>Composer <span class="ot">&lt;-</span> <span class="fu">as.character</span>(josquin_secure<span class="sc">$</span>Composer)</span>
<span id="cb2-7"><a href="#cb2-7" aria-hidden="true" tabindex="-1"></a>josquin_less_secure <span class="ot">&lt;-</span> josquin[ josquin<span class="sc">$</span>Attribution.Level <span class="sc">&gt;=</span> <span class="dv">3</span>,]</span>
<span id="cb2-8"><a href="#cb2-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-9"><a href="#cb2-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-10"><a href="#cb2-10" aria-hidden="true" tabindex="-1"></a><span class="do">####Other composers</span></span>
<span id="cb2-11"><a href="#cb2-11" aria-hidden="true" tabindex="-1"></a>bach <span class="ot">&lt;-</span> complete_data[complete_data<span class="sc">$</span>Composer <span class="sc">==</span> <span class="st">"Bach_Johann Sebastian"</span>,<span class="sc">-</span><span class="dv">12</span>]</span>
<span id="cb2-12"><a href="#cb2-12" aria-hidden="true" tabindex="-1"></a>larue <span class="ot">&lt;-</span> complete_data[complete_data<span class="sc">$</span>Composer <span class="sc">==</span> <span class="st">"la Rue_Pierre de"</span>,<span class="sc">-</span><span class="dv">12</span>]</span>
<span id="cb2-13"><a href="#cb2-13" aria-hidden="true" tabindex="-1"></a>palestrina <span class="ot">&lt;-</span> complete_data[complete_data<span class="sc">$</span>Composer <span class="sc">==</span> <span class="st">"Palestrina_Giovanni Perluigi da"</span>,<span class="sc">-</span><span class="dv">12</span>]</span>
<span id="cb2-14"><a href="#cb2-14" aria-hidden="true" tabindex="-1"></a>ockeghem <span class="ot">&lt;-</span> complete_data[complete_data<span class="sc">$</span>Composer <span class="sc">==</span> <span class="st">"Johannes Ockeghem"</span>,<span class="sc">-</span><span class="dv">12</span>]</span>
<span id="cb2-15"><a href="#cb2-15" aria-hidden="true" tabindex="-1"></a>orto <span class="ot">&lt;-</span> complete_data[complete_data<span class="sc">$</span>Composer <span class="sc">==</span> <span class="st">"de Orto_Marbrianus"</span>,<span class="sc">-</span><span class="dv">12</span>]</span>
<span id="cb2-16"><a href="#cb2-16" aria-hidden="true" tabindex="-1"></a>dufay <span class="ot">&lt;-</span> complete_data[complete_data<span class="sc">$</span>Composer <span class="sc">==</span> <span class="st">"Du Fay_Guillaume"</span>,<span class="sc">-</span><span class="dv">12</span>]</span>
<span id="cb2-17"><a href="#cb2-17" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-18"><a href="#cb2-18" aria-hidden="true" tabindex="-1"></a>josquin_bach <span class="ot">&lt;-</span> <span class="fu">rbind</span>(josquin_secure, bach)</span>
<span id="cb2-19"><a href="#cb2-19" aria-hidden="true" tabindex="-1"></a>josquin_palestrina <span class="ot">&lt;-</span> <span class="fu">rbind</span>(josquin_secure, palestrina)</span>
<span id="cb2-20"><a href="#cb2-20" aria-hidden="true" tabindex="-1"></a>josquin_larue <span class="ot">&lt;-</span> <span class="fu">rbind</span>(josquin_secure, larue)</span>
<span id="cb2-21"><a href="#cb2-21" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-22"><a href="#cb2-22" aria-hidden="true" tabindex="-1"></a>comparison <span class="ot">&lt;-</span> <span class="fu">rbind</span>(josquin_secure, dufay)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell" data-warnings="false">
<div class="sourceCode cell-code" id="cb3"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true" tabindex="-1"></a>columns_wanted <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="dv">5</span><span class="sc">:</span><span class="dv">11</span>)  </span>
<span id="cb3-2"><a href="#cb3-2" aria-hidden="true" tabindex="-1"></a>Matrix <span class="ot">&lt;-</span> comparison[,columns_wanted]</span>
<span id="cb3-3"><a href="#cb3-3" aria-hidden="true" tabindex="-1"></a>Matrix <span class="ot">&lt;-</span> <span class="fu">as.matrix</span>(Matrix)</span>
<span id="cb3-4"><a href="#cb3-4" aria-hidden="true" tabindex="-1"></a>Matrix[<span class="fu">is.na</span>(Matrix)] <span class="ot">&lt;-</span> <span class="dv">0</span></span>
<span id="cb3-5"><a href="#cb3-5" aria-hidden="true" tabindex="-1"></a><span class="co"># log.pieces &lt;- log(Matrix)</span></span>
<span id="cb3-6"><a href="#cb3-6" aria-hidden="true" tabindex="-1"></a>log.pieces <span class="ot">&lt;-</span> <span class="fu">log</span>(Matrix)</span>
<span id="cb3-7"><a href="#cb3-7" aria-hidden="true" tabindex="-1"></a>composer <span class="ot">&lt;-</span> comparison[,<span class="dv">1</span>]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>This code runs the actual principal components analysis.</p>
<p>It also provides a scree plot, allowing us to see which components are the most heavily weighted. This can allow us to reduce the dimensions as we see fit.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb4"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb4-1"><a href="#cb4-1" aria-hidden="true" tabindex="-1"></a><span class="do">####principle component analysis.</span></span>
<span id="cb4-2"><a href="#cb4-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-3"><a href="#cb4-3" aria-hidden="true" tabindex="-1"></a>pieces.pca <span class="ot">&lt;-</span> <span class="fu">prcomp</span>(Matrix,</span>
<span id="cb4-4"><a href="#cb4-4" aria-hidden="true" tabindex="-1"></a>                 <span class="at">center =</span> <span class="cn">TRUE</span>,</span>
<span id="cb4-5"><a href="#cb4-5" aria-hidden="true" tabindex="-1"></a>                 <span class="at">scale. =</span> <span class="cn">TRUE</span>) </span>
<span id="cb4-6"><a href="#cb4-6" aria-hidden="true" tabindex="-1"></a><span class="fu">plot</span>(pieces.pca, <span class="at">type =</span> <span class="st">"l"</span>, <span class="at">main=</span><span class="st">"Principal Components Analysis"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<p><img src="week_7_files/figure-html/unnamed-chunk-6-1.png" class="img-fluid" width="672"></p>
</div>
</div>
<p>It’s worth taking some time to explore what each of these components actually means and how they’re weighted. PCA is weighting instances of parallel motion and similar motion pretty heavily, but negatively weighting pitch entropy and oblique motion. PC2 seems to be looking at nPVI and 9-8 suspensions.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb5"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb5-1"><a href="#cb5-1" aria-hidden="true" tabindex="-1"></a><span class="fu">print</span>(pieces.pca)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Standard deviations (1, .., p=7):
[1] 1.3651251 1.1932956 1.0473249 0.9758057 0.8158066 0.7627338 0.6450502

Rotation (n x k) = (7 x 7):
                         PC1         PC2         PC3         PC4         PC5
nPVI_Entire       -0.1534310  0.28077115 -0.77204065  0.00852347  0.47773321
Nine_Eight        -0.1018707  0.59859586  0.02341681  0.52670532 -0.12881933
pitch_correlation -0.1550940  0.39505005  0.02896214 -0.83452001 -0.15900704
pitch_entropy     -0.1600989  0.50110624  0.56438102  0.04875023  0.32761392
parallel_motion    0.4600560  0.38613864 -0.26230330 -0.01533229 -0.49612767
similar_motion     0.6300842  0.05699415  0.06600453  0.03642203 -0.03731014
oblique_motion    -0.5547412 -0.05768156 -0.10430981  0.14881862 -0.61239508
                         PC6         PC7
nPVI_Entire       -0.2145105 -0.16511611
Nine_Eight         0.5736302 -0.08770651
pitch_correlation  0.2642076 -0.16592149
pitch_entropy     -0.5428772  0.01765806
parallel_motion   -0.3378146  0.45819860
similar_motion    -0.1086246 -0.76214894
oblique_motion    -0.3667346 -0.38260361</code></pre>
</div>
</div>
<p>As we can see, about 65% of the variance is accounted for with the first two principal components:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb7"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb7-1"><a href="#cb7-1" aria-hidden="true" tabindex="-1"></a><span class="fu">summary</span>(pieces.pca)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Importance of components:
                          PC1    PC2    PC3    PC4     PC5     PC6     PC7
Standard deviation     1.3651 1.1933 1.0473 0.9758 0.81581 0.76273 0.64505
Proportion of Variance 0.2662 0.2034 0.1567 0.1360 0.09508 0.08311 0.05944
Cumulative Proportion  0.2662 0.4697 0.6263 0.7624 0.85745 0.94056 1.00000</code></pre>
</div>
</div>
<p>Plotting our two composers with the first two principal components.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb9"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb9-1"><a href="#cb9-1" aria-hidden="true" tabindex="-1"></a>g <span class="ot">&lt;-</span> <span class="fu">ggbiplot</span>(pieces.pca, <span class="at">obs.scale =</span> <span class="dv">1</span>, <span class="at">var.scale =</span> <span class="dv">1</span>, </span>
<span id="cb9-2"><a href="#cb9-2" aria-hidden="true" tabindex="-1"></a>              <span class="at">groups =</span> composer, <span class="at">ellipse =</span> <span class="cn">TRUE</span>, </span>
<span id="cb9-3"><a href="#cb9-3" aria-hidden="true" tabindex="-1"></a>              <span class="at">circle =</span> <span class="cn">TRUE</span>)</span>
<span id="cb9-4"><a href="#cb9-4" aria-hidden="true" tabindex="-1"></a>g <span class="ot">&lt;-</span> g <span class="sc">+</span> <span class="fu">scale_color_discrete</span>(<span class="at">name =</span> <span class="st">''</span>)</span>
<span id="cb9-5"><a href="#cb9-5" aria-hidden="true" tabindex="-1"></a>g <span class="ot">&lt;-</span> g <span class="sc">+</span> <span class="fu">theme</span>(<span class="at">legend.direction =</span> <span class="st">'horizontal'</span>, </span>
<span id="cb9-6"><a href="#cb9-6" aria-hidden="true" tabindex="-1"></a>               <span class="at">legend.position =</span> <span class="st">'top'</span>) <span class="sc">+</span></span>
<span id="cb9-7"><a href="#cb9-7" aria-hidden="true" tabindex="-1"></a>               <span class="fu">theme_bw</span>()</span>
<span id="cb9-8"><a href="#cb9-8" aria-hidden="true" tabindex="-1"></a><span class="fu">print</span>(g)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<p><img src="week_7_files/figure-html/unnamed-chunk-9-1.png" class="img-fluid" width="672"></p>
</div>
<div class="sourceCode cell-code" id="cb10"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb10-1"><a href="#cb10-1" aria-hidden="true" tabindex="-1"></a><span class="co"># we can change the number of components</span></span>
<span id="cb10-2"><a href="#cb10-2" aria-hidden="true" tabindex="-1"></a><span class="co"># seven_component_model &lt;- data.frame(pieces.pca$x[,1:8])</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>We can also look at how much each of these features is being weighted within the first two components.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb11"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb11-1"><a href="#cb11-1" aria-hidden="true" tabindex="-1"></a>theta <span class="ot">&lt;-</span> <span class="fu">seq</span>(<span class="dv">0</span>,<span class="dv">2</span><span class="sc">*</span>pi,<span class="at">length.out =</span> <span class="dv">100</span>)</span>
<span id="cb11-2"><a href="#cb11-2" aria-hidden="true" tabindex="-1"></a>circle <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(<span class="at">x =</span> <span class="fu">cos</span>(theta), <span class="at">y =</span> <span class="fu">sin</span>(theta))</span>
<span id="cb11-3"><a href="#cb11-3" aria-hidden="true" tabindex="-1"></a>p <span class="ot">&lt;-</span> <span class="fu">ggplot</span>(circle,<span class="fu">aes</span>(x,y)) <span class="sc">+</span> <span class="fu">geom_path</span>()</span>
<span id="cb11-4"><a href="#cb11-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb11-5"><a href="#cb11-5" aria-hidden="true" tabindex="-1"></a>loadings <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(pieces.pca<span class="sc">$</span>rotation, </span>
<span id="cb11-6"><a href="#cb11-6" aria-hidden="true" tabindex="-1"></a>                       <span class="at">.names =</span> <span class="fu">row.names</span>(pieces.pca<span class="sc">$</span>rotation))</span>
<span id="cb11-7"><a href="#cb11-7" aria-hidden="true" tabindex="-1"></a>p <span class="sc">+</span> <span class="fu">geom_text</span>(<span class="at">data=</span>loadings, </span>
<span id="cb11-8"><a href="#cb11-8" aria-hidden="true" tabindex="-1"></a>              <span class="at">mapping=</span><span class="fu">aes</span>(<span class="at">x =</span> PC1, <span class="at">y =</span> PC2, <span class="at">label =</span> .names, <span class="at">colour =</span> .names)) <span class="sc">+</span></span>
<span id="cb11-9"><a href="#cb11-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">coord_fixed</span>(<span class="at">ratio=</span><span class="dv">1</span>) <span class="sc">+</span></span>
<span id="cb11-10"><a href="#cb11-10" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">x =</span> <span class="st">"PC1"</span>, <span class="at">y =</span> <span class="st">"PC2"</span>) <span class="sc">+</span></span>
<span id="cb11-11"><a href="#cb11-11" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_bw</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<p><img src="week_7_files/figure-html/unnamed-chunk-10-1.png" class="img-fluid" width="672"></p>
</div>
</div>
</section>
<section id="classifiers" class="level2">
<h2 class="anchored" data-anchor-id="classifiers">Classifiers</h2>
<p>A classifier is a model that assigns a label to data based on the input. There are many types of classifiers, and we will be evaluating various models throughout the week. Our goal will be to train a model on the features generally associated with a category, and then test the accuracy of that model. For now, a good starting point might be our Christmas Song question from last week.</p>
</section>
<section id="returning-to-our-christmas-song-problem" class="level2">
<h2 class="anchored" data-anchor-id="returning-to-our-christmas-song-problem">Returning to our Christmas Song Problem</h2>
<p>First, let’s get the data and add a column that tells us whether it’s a Christmas song or not</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb12"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb12-1"><a href="#cb12-1" aria-hidden="true" tabindex="-1"></a><span class="do">### get the data and add yes/no column.</span></span>
<span id="cb12-2"><a href="#cb12-2" aria-hidden="true" tabindex="-1"></a>christmas <span class="ot">&lt;-</span> <span class="fu">get_playlist_audio_features</span>(<span class="st">""</span>, <span class="st">"5OP7itTh52BMfZS1DJrdlv"</span>)</span>
<span id="cb12-3"><a href="#cb12-3" aria-hidden="true" tabindex="-1"></a>christmas<span class="sc">$</span>christmas <span class="ot">&lt;-</span> <span class="st">"yes"</span></span>
<span id="cb12-4"><a href="#cb12-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb12-5"><a href="#cb12-5" aria-hidden="true" tabindex="-1"></a>not <span class="ot">&lt;-</span> <span class="fu">get_playlist_audio_features</span>(<span class="st">""</span>, <span class="st">"6i2Qd6OpeRBAzxfscNXeWp"</span>)</span>
<span id="cb12-6"><a href="#cb12-6" aria-hidden="true" tabindex="-1"></a>not<span class="sc">$</span>christmas <span class="ot">&lt;-</span> <span class="st">"no"</span></span>
<span id="cb12-7"><a href="#cb12-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb12-8"><a href="#cb12-8" aria-hidden="true" tabindex="-1"></a><span class="do">## combine the two datasets and get the columns we want to use.</span></span>
<span id="cb12-9"><a href="#cb12-9" aria-hidden="true" tabindex="-1"></a>christmas_subset <span class="ot">&lt;-</span><span class="fu">rbind</span>(christmas, not)</span>
<span id="cb12-10"><a href="#cb12-10" aria-hidden="true" tabindex="-1"></a>christmas_subset <span class="ot">&lt;-</span> christmas_subset <span class="sc">%&gt;%</span> </span>
<span id="cb12-11"><a href="#cb12-11" aria-hidden="true" tabindex="-1"></a>    <span class="fu">select</span>(<span class="fu">c</span>(<span class="st">"christmas"</span>, <span class="st">"acousticness"</span>, <span class="st">"liveness"</span>, <span class="st">"danceability"</span>, <span class="st">"loudness"</span>, <span class="st">"speechiness"</span>, <span class="st">"valence"</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Now we can use the <code>createDataPartition</code> function from the <code>caret</code> library to create a testing and a training dataset. Here, I’ve chosen a 70/30 partition of training and testing, but you can adjust as you see fit.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb13"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb13-1"><a href="#cb13-1" aria-hidden="true" tabindex="-1"></a>Train <span class="ot">&lt;-</span> <span class="fu">createDataPartition</span>(christmas_subset<span class="sc">$</span>christmas, <span class="at">p=</span><span class="fl">0.7</span>, <span class="at">list=</span><span class="cn">FALSE</span>)</span>
<span id="cb13-2"><a href="#cb13-2" aria-hidden="true" tabindex="-1"></a>training <span class="ot">&lt;-</span> christmas_subset[ Train, ]</span>
<span id="cb13-3"><a href="#cb13-3" aria-hidden="true" tabindex="-1"></a>testing <span class="ot">&lt;-</span> christmas_subset[ <span class="sc">-</span>Train, ]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>We can pretty easily implement something like a neural network, using our training dataset to train it:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb14"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb14-1"><a href="#cb14-1" aria-hidden="true" tabindex="-1"></a>mod_fit <span class="ot">&lt;-</span> caret<span class="sc">::</span><span class="fu">train</span>(christmas <span class="sc">~</span> .,  </span>
<span id="cb14-2"><a href="#cb14-2" aria-hidden="true" tabindex="-1"></a>                 <span class="at">data=</span>training, <span class="at">method=</span><span class="st">"nnet"</span>, <span class="at">importance =</span> <span class="st">"christmas"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Once we’ve trained this model, we can test it on our testing dataset, and see how well it does:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb15"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb15-1"><a href="#cb15-1" aria-hidden="true" tabindex="-1"></a>pred <span class="ot">&lt;-</span> <span class="fu">predict</span>(mod_fit, testing)</span>
<span id="cb15-2"><a href="#cb15-2" aria-hidden="true" tabindex="-1"></a><span class="fu">confusionMatrix</span>(pred, <span class="fu">as.factor</span>(testing<span class="sc">$</span>christmas), <span class="at">positive =</span> <span class="st">"yes"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Confusion Matrix and Statistics

          Reference
Prediction no yes
       no  30  14
       yes  5  16
                                         
               Accuracy : 0.7077         
                 95% CI : (0.5817, 0.814)
    No Information Rate : 0.5385         
    P-Value [Acc &gt; NIR] : 0.00399        
                                         
                  Kappa : 0.399          
                                         
 Mcnemar's Test P-Value : 0.06646        
                                         
            Sensitivity : 0.5333         
            Specificity : 0.8571         
         Pos Pred Value : 0.7619         
         Neg Pred Value : 0.6818         
             Prevalence : 0.4615         
         Detection Rate : 0.2462         
   Detection Prevalence : 0.3231         
      Balanced Accuracy : 0.6952         
                                         
       'Positive' Class : yes            
                                         </code></pre>
</div>
</div>
<p>So what does this all mean? Let’s define some terms.</p>
<ul>
<li><strong>Accuracy:</strong>
<ul>
<li>the accuracy rate. Just how many things it got right.</li>
</ul></li>
<li><strong>95% CI:</strong>
<ul>
<li>the confidence interval of the accuracy.</li>
</ul></li>
<li><strong>No information rate:</strong>
<ul>
<li>given no more information other than the overall distribution, how likely are you to be correct if you just pick the “majority class.”</li>
<li>if you have an accuracy rate of 80%, but the majority class is 80%, then your model isn’t terribly useful.</li>
</ul></li>
<li><strong>P-Value:</strong>
<ul>
<li>likelihood of chance.</li>
</ul></li>
<li><strong>Kappa:</strong>
<ul>
<li>measures the agreement between two raters and ratings. Here it’s looking at the difference between observed accuracy and random chance given the distribution in the dataset.</li>
</ul></li>
<li><strong>McNemar’s Test P-Value:</strong>
<ul>
<li>this is looking at the two distributions (from a 2x2 table), and determines if they are significantly different,</li>
</ul></li>
<li><strong>Sensitivity:</strong>
<ul>
<li>given that a result is actually a thing, what is the probability that our model will predict that event’s results?</li>
</ul></li>
<li><strong>Specificity:</strong>
<ul>
<li>given that a result is <em>not</em> actually a thing, what is the probability that our model will predict that?</li>
</ul></li>
<li><strong>Pos Predictive Value:</strong>
<ul>
<li>the probability that a predicted ‘positive’ class is actually positive.</li>
</ul></li>
<li><strong>Neg Predictive Value:</strong>
<ul>
<li>the probability that a predicted ‘negative’ class is actually negative.</li>
</ul></li>
<li><strong>Prevalence:</strong>
<ul>
<li>the prevalence of the ‘positive event’</li>
</ul></li>
<li><strong>Detection Rate:</strong>
<ul>
<li>the rate of true events also predicted to be events</li>
</ul></li>
<li><strong>Detection Prevalence</strong>
<ul>
<li>the prevalence of predicted events</li>
</ul></li>
<li><strong>Balanced Accuracy:</strong>
<ul>
<li>the average of the proportion corrects of each class individually</li>
</ul></li>
</ul>
<section id="what-is-the-model-using" class="level3">
<h3 class="anchored" data-anchor-id="what-is-the-model-using">What is the model using?</h3>
<p>We can look at which features the model is using…</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb17"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb17-1"><a href="#cb17-1" aria-hidden="true" tabindex="-1"></a><span class="fu">plot</span>(<span class="fu">varImp</span>(mod_fit))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<p><img src="week_7_files/figure-html/unnamed-chunk-15-1.png" class="img-fluid" width="672"></p>
</div>
</div>
</section>
</section>
<section id="exercise" class="level2">
<h2 class="anchored" data-anchor-id="exercise">Exercise</h2>
<ol type="1">
<li>Use PCA to explore the works of two artists. How well do they “separate”?</li>
<li>Run a classifier on two groups (it can be the same two artists, or two distinct groups). How well does your model do?</li>
</ol>
</section>
</section>
<section id="wednesday" class="level1">
<h1>Wednesday</h1>
<p>Today we are going to look at different models and evaluating models. Our research question will be training a model to decipher John Lennon songs from Paul McCartney songs with various classifiers.</p>
<section id="john-or-paul" class="level2">
<h2 class="anchored" data-anchor-id="john-or-paul">John or Paul?</h2>
<p>Our research process will follow a simple trajectory:</p>
<ul>
<li>Get songs by each artist’s solo career (this can be our ‘ground truth’, as it were).</li>
<li>Train the model on these pieces, and evaluate the various models.</li>
<li>Apply the various models to some songs by the Beatles.</li>
</ul>
<section id="getting-the-data" class="level3">
<h3 class="anchored" data-anchor-id="getting-the-data">Getting the Data</h3>
<div class="cell">
<div class="sourceCode cell-code" id="cb18"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb18-1"><a href="#cb18-1" aria-hidden="true" tabindex="-1"></a>john <span class="ot">&lt;-</span> <span class="fu">get_artist_audio_features</span>(<span class="st">'john lennon'</span>)</span>
<span id="cb18-2"><a href="#cb18-2" aria-hidden="true" tabindex="-1"></a>paul <span class="ot">&lt;-</span> <span class="fu">get_artist_audio_features</span>(<span class="st">'paul mccartney'</span>)</span>
<span id="cb18-3"><a href="#cb18-3" aria-hidden="true" tabindex="-1"></a>both <span class="ot">&lt;-</span> <span class="fu">rbind</span>(john, paul)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>What is the balance of pieces like? It looks like we have far more McCartney than Lennon pieces. What does this mean for our model?</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb19"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb19-1"><a href="#cb19-1" aria-hidden="true" tabindex="-1"></a><span class="fu">table</span>(both<span class="sc">$</span>artist_name)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>
   John Lennon Paul McCartney 
           584            984 </code></pre>
</div>
</div>
<p>We then can grab only the features that we want to explore for this model.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb21"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb21-1"><a href="#cb21-1" aria-hidden="true" tabindex="-1"></a>both_subset <span class="ot">&lt;-</span> both <span class="sc">%&gt;%</span> <span class="fu">select</span>(<span class="fu">c</span>(<span class="st">"artist_name"</span>, <span class="st">"acousticness"</span>, <span class="st">"liveness"</span>, <span class="st">"danceability"</span>, <span class="st">"loudness"</span>, <span class="st">"speechiness"</span>, <span class="st">"valence"</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Before running a clustering, PCA, or a classifier such as a k-nearest neighbor, it’s probably good to standardize your data. This means that the data is consistent, and prevents wide ranges from dominating the results. Here we’ve scaled all of our data with the z-score of the data according with the rest of the data for that category.</p>
<p>I’ve also (temporarily) split the data from the artist, and then brought it all back together with cbind.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb22"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb22-1"><a href="#cb22-1" aria-hidden="true" tabindex="-1"></a>data <span class="ot">&lt;-</span> both_subset[,<span class="sc">-</span><span class="dv">1</span>]</span>
<span id="cb22-2"><a href="#cb22-2" aria-hidden="true" tabindex="-1"></a>artists <span class="ot">&lt;-</span> both_subset[,<span class="dv">1</span>]</span>
<span id="cb22-3"><a href="#cb22-3" aria-hidden="true" tabindex="-1"></a>data <span class="ot">&lt;-</span> data <span class="sc">%&gt;%</span> <span class="fu">mutate_all</span>(<span class="sc">~</span>(<span class="fu">scale</span>(.) <span class="sc">%&gt;%</span> as.vector))</span>
<span id="cb22-4"><a href="#cb22-4" aria-hidden="true" tabindex="-1"></a>both_artists <span class="ot">&lt;-</span> <span class="fu">cbind</span>(artists, data)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
</section>
<section id="cross-validation" class="level2">
<h2 class="anchored" data-anchor-id="cross-validation">Cross-Validation</h2>
<p>Cross-validation splits the data up into a testing and training set, and evaluates it.</p>
<section id="k-folds-cross-validation" class="level3">
<h3 class="anchored" data-anchor-id="k-folds-cross-validation">K-folds cross validation:</h3>
<p>K refers to the number of groups that data is split into.</p>
<ul>
<li>It randomizes the data</li>
<li>splits it into the specified number of groups</li>
<li>for each group, split into a training and testing set, and then evaluate</li>
</ul>
<div class="cell">
<div class="sourceCode cell-code" id="cb23"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb23-1"><a href="#cb23-1" aria-hidden="true" tabindex="-1"></a>ctrl <span class="ot">&lt;-</span> <span class="fu">trainControl</span>(<span class="at">method =</span> <span class="st">"repeatedcv"</span>, <span class="at">number =</span> <span class="dv">2</span>, <span class="at">savePredictions =</span> <span class="cn">TRUE</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb24"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb24-1"><a href="#cb24-1" aria-hidden="true" tabindex="-1"></a>Train <span class="ot">&lt;-</span> <span class="fu">createDataPartition</span>(both_artists<span class="sc">$</span>artists, <span class="at">p=</span><span class="fl">0.7</span>, <span class="at">list=</span><span class="cn">FALSE</span>)</span>
<span id="cb24-2"><a href="#cb24-2" aria-hidden="true" tabindex="-1"></a>training <span class="ot">&lt;-</span> both_artists[ Train, ]</span>
<span id="cb24-3"><a href="#cb24-3" aria-hidden="true" tabindex="-1"></a>testing <span class="ot">&lt;-</span> both_artists[ <span class="sc">-</span>Train, ]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Let’s look at our results with a logistic regression:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb25"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb25-1"><a href="#cb25-1" aria-hidden="true" tabindex="-1"></a>mod_fit <span class="ot">&lt;-</span> <span class="fu">train</span>(artists <span class="sc">~</span> .,  <span class="at">data=</span>both_artists, <span class="at">method=</span><span class="st">"glm"</span>, <span class="at">family=</span><span class="st">"binomial"</span>,</span>
<span id="cb25-2"><a href="#cb25-2" aria-hidden="true" tabindex="-1"></a>                 <span class="at">trControl =</span> ctrl, <span class="at">tuneLength =</span> <span class="dv">10</span>)</span>
<span id="cb25-3"><a href="#cb25-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb25-4"><a href="#cb25-4" aria-hidden="true" tabindex="-1"></a>testing<span class="sc">$</span>artists <span class="ot">&lt;-</span> <span class="fu">as.factor</span>(testing<span class="sc">$</span>artists)</span>
<span id="cb25-5"><a href="#cb25-5" aria-hidden="true" tabindex="-1"></a>pred <span class="ot">&lt;-</span> <span class="fu">predict</span>(mod_fit, <span class="at">newdata=</span>testing)</span>
<span id="cb25-6"><a href="#cb25-6" aria-hidden="true" tabindex="-1"></a><span class="fu">confusionMatrix</span>(<span class="at">data=</span>pred, testing<span class="sc">$</span>artists)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Confusion Matrix and Statistics

                Reference
Prediction       John Lennon Paul McCartney
  John Lennon             71             57
  Paul McCartney         104            238
                                          
               Accuracy : 0.6574          
                 95% CI : (0.6126, 0.7003)
    No Information Rate : 0.6277          
    P-Value [Acc &gt; NIR] : 0.0983504       
                                          
                  Kappa : 0.2248          
                                          
 Mcnemar's Test P-Value : 0.0002886       
                                          
            Sensitivity : 0.4057          
            Specificity : 0.8068          
         Pos Pred Value : 0.5547          
         Neg Pred Value : 0.6959          
             Prevalence : 0.3723          
         Detection Rate : 0.1511          
   Detection Prevalence : 0.2723          
      Balanced Accuracy : 0.6062          
                                          
       'Positive' Class : John Lennon     
                                          </code></pre>
</div>
</div>
<p>It looks like the accuracy is about 76%, but pay attention to the <em>sensitivity</em> and the <em>specificity</em> values.</p>
<p>Recall that sensitivity is a measurement of how well the model can detect a “positive” instance, and specificity measures how well the model is finding true negatives.</p>
<p>Sensitivity can be defined as follows:</p>
<blockquote class="blockquote">
<p>Sensitivity = (True Positive)/(True Positive + False Negative)</p>
</blockquote>
<p>and specificity can be defined as follows:</p>
<blockquote class="blockquote">
<p>Specificity = (True Negative)/(True Negative + False Positive)</p>
</blockquote>
<p>So this model is quite good at finding the negative class (here defined as McCartney), but not great at finding the positive class (Lennon).</p>
</section>
</section>
<section id="other-models" class="level2">
<h2 class="anchored" data-anchor-id="other-models">Other Models</h2>
<p>Let’s run the same code again, but now with a k-nearest neighbor. For our sanity, let’s put it into a function.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb27"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb27-1"><a href="#cb27-1" aria-hidden="true" tabindex="-1"></a>model_evaluation <span class="ot">&lt;-</span> <span class="cf">function</span>(method){</span>
<span id="cb27-2"><a href="#cb27-2" aria-hidden="true" tabindex="-1"></a>    Train <span class="ot">&lt;-</span> <span class="fu">createDataPartition</span>(both_artists<span class="sc">$</span>artists, <span class="at">p=</span><span class="fl">0.7</span>, <span class="at">list=</span><span class="cn">FALSE</span>)</span>
<span id="cb27-3"><a href="#cb27-3" aria-hidden="true" tabindex="-1"></a>    training <span class="ot">&lt;-</span> both_artists[ Train, ]</span>
<span id="cb27-4"><a href="#cb27-4" aria-hidden="true" tabindex="-1"></a>    testing <span class="ot">&lt;-</span> both_artists[ <span class="sc">-</span>Train, ]</span>
<span id="cb27-5"><a href="#cb27-5" aria-hidden="true" tabindex="-1"></a>    mod_fit <span class="ot">&lt;-</span> <span class="fu">train</span>(artists <span class="sc">~</span> .,  </span>
<span id="cb27-6"><a href="#cb27-6" aria-hidden="true" tabindex="-1"></a>                     <span class="at">data=</span>training, <span class="at">method=</span>method)</span>
<span id="cb27-7"><a href="#cb27-7" aria-hidden="true" tabindex="-1"></a>    pred <span class="ot">&lt;-</span> <span class="fu">predict</span>(mod_fit, <span class="at">newdata=</span>testing)</span>
<span id="cb27-8"><a href="#cb27-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb27-9"><a href="#cb27-9" aria-hidden="true" tabindex="-1"></a>    accuracy <span class="ot">&lt;-</span> <span class="fu">table</span>(pred, testing[,<span class="st">"artists"</span>])</span>
<span id="cb27-10"><a href="#cb27-10" aria-hidden="true" tabindex="-1"></a>    <span class="fu">sum</span>(<span class="fu">diag</span>(accuracy))<span class="sc">/</span><span class="fu">sum</span>(accuracy)</span>
<span id="cb27-11"><a href="#cb27-11" aria-hidden="true" tabindex="-1"></a>    testing<span class="sc">$</span>artists <span class="ot">&lt;-</span> <span class="fu">as.factor</span>(testing<span class="sc">$</span>artists)</span>
<span id="cb27-12"><a href="#cb27-12" aria-hidden="true" tabindex="-1"></a>    <span class="fu">confusionMatrix</span>(<span class="at">data=</span>pred, testing<span class="sc">$</span>artists)</span>
<span id="cb27-13"><a href="#cb27-13" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb27-14"><a href="#cb27-14" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb27-15"><a href="#cb27-15" aria-hidden="true" tabindex="-1"></a><span class="fu">model_evaluation</span>(<span class="st">"kknn"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Confusion Matrix and Statistics

                Reference
Prediction       John Lennon Paul McCartney
  John Lennon            126             56
  Paul McCartney          49            239
                                          
               Accuracy : 0.7766          
                 95% CI : (0.7362, 0.8135)
    No Information Rate : 0.6277          
    P-Value [Acc &gt; NIR] : 2.949e-12       
                                          
                  Kappa : 0.5259          
                                          
 Mcnemar's Test P-Value : 0.5582          
                                          
            Sensitivity : 0.7200          
            Specificity : 0.8102          
         Pos Pred Value : 0.6923          
         Neg Pred Value : 0.8299          
             Prevalence : 0.3723          
         Detection Rate : 0.2681          
   Detection Prevalence : 0.3872          
      Balanced Accuracy : 0.7651          
                                          
       'Positive' Class : John Lennon     
                                          </code></pre>
</div>
</div>
<p>Note that it performs quite well! It’s better at finding the “John Lennon” model.</p>
<p>Why do we think this model performed better? A comparison of models can be found <a href="https://towardsdatascience.com/comparative-study-on-classic-machine-learning-algorithms-24f9ff6ab222">here</a>.</p>
<section id="neural-net" class="level3">
<h3 class="anchored" data-anchor-id="neural-net">Neural Net</h3>
<p>A neural net doesn’t seem to do as well.</p>
<div class="cell" data-messages="false">
<div class="sourceCode cell-code" id="cb29"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb29-1"><a href="#cb29-1" aria-hidden="true" tabindex="-1"></a><span class="fu">model_evaluation</span>(<span class="st">"nnet"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
</section>
<section id="comparing-models" class="level2">
<h2 class="anchored" data-anchor-id="comparing-models">Comparing Models</h2>
<ul>
<li>Logistic Regression</li>
<li>K-nearest neighbor</li>
<li>neural net</li>
<li>Learning Vector Quantization</li>
<li>gradient boosted machine</li>
<li>support vector machine</li>
</ul>
<p>We can train different models explicitly (without a function) for now.</p>
<div class="cell" data-messages="false">
<div class="sourceCode cell-code" id="cb30"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb30-1"><a href="#cb30-1" aria-hidden="true" tabindex="-1"></a><span class="fu">set.seed</span>(<span class="dv">1234</span>)</span>
<span id="cb30-2"><a href="#cb30-2" aria-hidden="true" tabindex="-1"></a>control <span class="ot">&lt;-</span> <span class="fu">trainControl</span>(<span class="at">method=</span><span class="st">"repeatedcv"</span>, <span class="at">number=</span><span class="dv">10</span>, <span class="at">repeats=</span><span class="dv">3</span>)</span>
<span id="cb30-3"><a href="#cb30-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb30-4"><a href="#cb30-4" aria-hidden="true" tabindex="-1"></a><span class="co"># train logistic regression</span></span>
<span id="cb30-5"><a href="#cb30-5" aria-hidden="true" tabindex="-1"></a>modelglm <span class="ot">&lt;-</span> <span class="fu">train</span>(artists <span class="sc">~</span> ., <span class="at">data=</span>both_artists, <span class="at">method=</span><span class="st">"glm"</span>, <span class="at">trControl=</span>control)</span>
<span id="cb30-6"><a href="#cb30-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb30-7"><a href="#cb30-7" aria-hidden="true" tabindex="-1"></a><span class="co"># train knn</span></span>
<span id="cb30-8"><a href="#cb30-8" aria-hidden="true" tabindex="-1"></a>modelknn <span class="ot">&lt;-</span> <span class="fu">train</span>(artists <span class="sc">~</span> ., <span class="at">data=</span>both_artists, <span class="at">method=</span><span class="st">"kknn"</span>, <span class="at">trControl=</span>control)</span>
<span id="cb30-9"><a href="#cb30-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb30-10"><a href="#cb30-10" aria-hidden="true" tabindex="-1"></a><span class="co"># train nnet</span></span>
<span id="cb30-11"><a href="#cb30-11" aria-hidden="true" tabindex="-1"></a>modelnnet <span class="ot">&lt;-</span> <span class="fu">train</span>(artists <span class="sc">~</span> ., <span class="at">data=</span>both_artists, <span class="at">method=</span><span class="st">"nnet"</span>, <span class="at">trControl=</span>control)</span>
<span id="cb30-12"><a href="#cb30-12" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb30-13"><a href="#cb30-13" aria-hidden="true" tabindex="-1"></a><span class="co"># train the LVQ model</span></span>
<span id="cb30-14"><a href="#cb30-14" aria-hidden="true" tabindex="-1"></a>modelLvq <span class="ot">&lt;-</span> <span class="fu">train</span>(artists <span class="sc">~</span> ., <span class="at">data=</span>both_artists, <span class="at">method=</span><span class="st">"lvq"</span>, <span class="at">trControl=</span>control)</span>
<span id="cb30-15"><a href="#cb30-15" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb30-16"><a href="#cb30-16" aria-hidden="true" tabindex="-1"></a><span class="co"># train the GBM model</span></span>
<span id="cb30-17"><a href="#cb30-17" aria-hidden="true" tabindex="-1"></a><span class="fu">set.seed</span>(<span class="dv">7</span>)</span>
<span id="cb30-18"><a href="#cb30-18" aria-hidden="true" tabindex="-1"></a>modelGbm <span class="ot">&lt;-</span> <span class="fu">train</span>(artists <span class="sc">~</span> ., <span class="at">data=</span>both_artists, <span class="at">method=</span><span class="st">"gbm"</span>, <span class="at">trControl=</span>control)</span>
<span id="cb30-19"><a href="#cb30-19" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb30-20"><a href="#cb30-20" aria-hidden="true" tabindex="-1"></a><span class="co"># train the SVM model</span></span>
<span id="cb30-21"><a href="#cb30-21" aria-hidden="true" tabindex="-1"></a><span class="fu">set.seed</span>(<span class="dv">7</span>)</span>
<span id="cb30-22"><a href="#cb30-22" aria-hidden="true" tabindex="-1"></a>modelSvm <span class="ot">&lt;-</span> <span class="fu">train</span>(artists <span class="sc">~</span>., <span class="at">data=</span>both_artists, <span class="at">method=</span><span class="st">"svmRadial"</span>, <span class="at">trControl=</span>control)</span>
<span id="cb30-23"><a href="#cb30-23" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb30-24"><a href="#cb30-24" aria-hidden="true" tabindex="-1"></a><span class="co"># train the random forest</span></span>
<span id="cb30-25"><a href="#cb30-25" aria-hidden="true" tabindex="-1"></a>randomforest <span class="ot">&lt;-</span> <span class="fu">train</span>(artists<span class="sc">~</span>., <span class="at">data=</span>both_artists, <span class="at">method=</span><span class="st">"ranger"</span>, <span class="at">trControl=</span>control)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>We can actually look at the resampling of the dataset for each model, and get the results for each model:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb31"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb31-1"><a href="#cb31-1" aria-hidden="true" tabindex="-1"></a><span class="co"># collect resamples</span></span>
<span id="cb31-2"><a href="#cb31-2" aria-hidden="true" tabindex="-1"></a>results <span class="ot">&lt;-</span> <span class="fu">resamples</span>(<span class="fu">list</span>(<span class="at">LVQ=</span>modelLvq, <span class="at">GBM=</span>modelGbm, <span class="at">SVM=</span>modelSvm,<span class="at">knn=</span>modelknn, <span class="at">nnet=</span>modelnnet, <span class="at">glm=</span>modelglm, <span class="at">rf=</span>randomforest))</span>
<span id="cb31-3"><a href="#cb31-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb31-4"><a href="#cb31-4" aria-hidden="true" tabindex="-1"></a><span class="co"># summarize the distributions</span></span>
<span id="cb31-5"><a href="#cb31-5" aria-hidden="true" tabindex="-1"></a><span class="fu">summary</span>(results)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>
Call:
summary.resamples(object = results)

Models: LVQ, GBM, SVM, knn, nnet, glm, rf 
Number of resamples: 30 

Accuracy 
          Min.   1st Qu.    Median      Mean   3rd Qu.      Max. NA's
LVQ  0.6050955 0.6415973 0.6602564 0.6600220 0.6751592 0.7133758    0
GBM  0.6962025 0.7439980 0.7619124 0.7663809 0.7878695 0.8397436    0
SVM  0.6687898 0.7179487 0.7388535 0.7387526 0.7687306 0.8012821    0
knn  0.7324841 0.7647041 0.7809603 0.7832078 0.8012821 0.8333333    0
nnet 0.6794872 0.7208987 0.7324841 0.7363845 0.7527715 0.8076923    0
glm  0.6089744 0.6634820 0.6858974 0.6862284 0.7099359 0.7594937    0
rf   0.7388535 0.8028602 0.8210844 0.8237734 0.8450584 0.9050633    0

Kappa 
           Min.   1st Qu.    Median      Mean   3rd Qu.      Max. NA's
LVQ  0.08665105 0.1683163 0.2101309 0.2206380 0.2633926 0.3847244    0
GBM  0.32297804 0.4362291 0.4827239 0.4877173 0.5394920 0.6557203    0
SVM  0.27879859 0.3771507 0.4167157 0.4276538 0.4885911 0.5730932    0
knn  0.42590980 0.4981390 0.5401244 0.5399265 0.5824790 0.6505858    0
nnet 0.29398986 0.3882580 0.4259220 0.4245391 0.4615117 0.5824411    0
glm  0.07503888 0.2320983 0.2821086 0.2882337 0.3352471 0.4441770    0
rf   0.44522968 0.5735189 0.6111771 0.6168420 0.6640556 0.7935900    0</code></pre>
</div>
</div>
<p>It might be better to look at the accuracy for each model. Here we have the accuracy rating as well as Cohen’s Kappa, which is like accuracy but also incorporates the imbalance of the dataset.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb33"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb33-1"><a href="#cb33-1" aria-hidden="true" tabindex="-1"></a><span class="co"># boxplots of results</span></span>
<span id="cb33-2"><a href="#cb33-2" aria-hidden="true" tabindex="-1"></a><span class="fu">bwplot</span>(results)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<p><img src="week_7_files/figure-html/unnamed-chunk-27-1.png" class="img-fluid" width="672"></p>
</div>
</div>
<p>Here’s another plot:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb34"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb34-1"><a href="#cb34-1" aria-hidden="true" tabindex="-1"></a><span class="co"># dot plots of results</span></span>
<span id="cb34-2"><a href="#cb34-2" aria-hidden="true" tabindex="-1"></a><span class="fu">dotplot</span>(results)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<p><img src="week_7_files/figure-html/unnamed-chunk-28-1.png" class="img-fluid" width="672"></p>
</div>
</div>
<p>Is it possible to use this for a research question??</p>
<p>What if we use our neural net model but on a different dataset? How about the beatles dataset that is available on Spotify (which admittedly isn’t as much as we’d like).</p>
<section id="grabbing-beatles-data" class="level3">
<h3 class="anchored" data-anchor-id="grabbing-beatles-data">Grabbing Beatles Data</h3>
<p>We can start by getting the data from Spotify:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb35"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb35-1"><a href="#cb35-1" aria-hidden="true" tabindex="-1"></a>beatles <span class="ot">&lt;-</span> <span class="fu">get_artist_audio_features</span>(<span class="st">'the beatles'</span>)</span>
<span id="cb35-2"><a href="#cb35-2" aria-hidden="true" tabindex="-1"></a>beatles_subset <span class="ot">&lt;-</span> beatles <span class="sc">%&gt;%</span> <span class="fu">select</span>(<span class="fu">c</span>(<span class="st">"artist_name"</span>, <span class="st">"acousticness"</span>, <span class="st">"energy"</span>, <span class="st">"instrumentalness"</span>, <span class="st">"liveness"</span>, <span class="st">"danceability"</span>, <span class="st">"loudness"</span>, <span class="st">"speechiness"</span>, <span class="st">"valence"</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="predicting" class="level3">
<h3 class="anchored" data-anchor-id="predicting">Predicting</h3>
<p>Now we can use the models that we’ve trained, but on new data. Here we use the random forest and the k-nearest neighbor models.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb36"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb36-1"><a href="#cb36-1" aria-hidden="true" tabindex="-1"></a>beatles_knn <span class="ot">&lt;-</span> <span class="fu">predict</span>(modelknn, <span class="at">newdata=</span>beatles_subset)</span>
<span id="cb36-2"><a href="#cb36-2" aria-hidden="true" tabindex="-1"></a>beatles_rf <span class="ot">&lt;-</span> <span class="fu">predict</span>(randomforest, <span class="at">newdata=</span>beatles_subset)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Now, we are going to create a data frame of the track name, and both models.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb37"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb37-1"><a href="#cb37-1" aria-hidden="true" tabindex="-1"></a>classified_data <span class="ot">&lt;-</span> <span class="fu">as.data.frame</span>(<span class="fu">cbind</span>(beatles_knn, beatles_rf, beatles<span class="sc">$</span>track_name))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>This returns data as either 1 or 2, so we can clean up the columns a bit. Here, if it’s a 2, I label it as “Paul”, otherwise, it’s a “John”.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb38"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb38-1"><a href="#cb38-1" aria-hidden="true" tabindex="-1"></a>classified_data<span class="sc">$</span>beatles_knn <span class="ot">&lt;-</span> <span class="fu">if_else</span>(classified_data<span class="sc">$</span>beatles_knn <span class="sc">==</span> <span class="dv">2</span>, <span class="st">"Paul"</span>, <span class="st">"John"</span>)</span>
<span id="cb38-2"><a href="#cb38-2" aria-hidden="true" tabindex="-1"></a>classified_data<span class="sc">$</span>beatles_rf<span class="ot">&lt;-</span> <span class="fu">if_else</span>(classified_data<span class="sc">$</span>beatles_rf <span class="sc">==</span> <span class="dv">2</span>, <span class="st">"Paul"</span>, <span class="st">"John"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>With the <code>caret</code> package, we can extract the probabilities of each guess. We can also add track info here as needed:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb39"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb39-1"><a href="#cb39-1" aria-hidden="true" tabindex="-1"></a>probabilities <span class="ot">&lt;-</span> <span class="fu">extractProb</span>(<span class="fu">list</span>(modelnnet), <span class="at">unkX =</span> beatles_subset)</span>
<span id="cb39-2"><a href="#cb39-2" aria-hidden="true" tabindex="-1"></a><span class="fu">colnames</span>(classified_data)[<span class="dv">3</span>] <span class="ot">&lt;-</span> <span class="st">"track"</span></span>
<span id="cb39-3"><a href="#cb39-3" aria-hidden="true" tabindex="-1"></a>probability_data <span class="ot">&lt;-</span> <span class="fu">cbind</span>(probabilities[,<span class="dv">1</span><span class="sc">:</span><span class="dv">2</span>], classified_data)</span>
<span id="cb39-4"><a href="#cb39-4" aria-hidden="true" tabindex="-1"></a>probability_data <span class="sc">%&gt;%</span> <span class="fu">datatable</span>(<span class="at">filter =</span><span class="st">"top"</span>) </span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">

<div class="datatables html-widget html-fill-item-overflow-hidden html-fill-item" id="htmlwidget-539b8f6fede78c4c8494" style="width:100%;height:auto;"></div>
<script type="application/json" data-for="htmlwidget-539b8f6fede78c4c8494">{"x":{"filter":"top","vertical":false,"filterHTML":"<tr>\n  <td><\/td>\n  <td data-type=\"number\" style=\"vertical-align: top;\">\n    <div class=\"form-group has-feedback\" style=\"margin-bottom: auto;\">\n      <input type=\"search\" placeholder=\"All\" class=\"form-control\" style=\"width: 100%;\"/>\n      <span class=\"glyphicon glyphicon-remove-circle form-control-feedback\"><\/span>\n    <\/div>\n    <div style=\"display: none;position: absolute;width: 200px;opacity: 1\">\n      <div data-min=\"0.991104679469499\" data-max=\"0.994084442540465\" data-scale=\"15\"><\/div>\n      <span style=\"float: left;\"><\/span>\n      <span style=\"float: right;\"><\/span>\n    <\/div>\n  <\/td>\n  <td data-type=\"number\" style=\"vertical-align: top;\">\n    <div class=\"form-group has-feedback\" style=\"margin-bottom: auto;\">\n      <input type=\"search\" placeholder=\"All\" class=\"form-control\" style=\"width: 100%;\"/>\n      <span class=\"glyphicon glyphicon-remove-circle form-control-feedback\"><\/span>\n    <\/div>\n    <div style=\"display: none;position: absolute;width: 200px;opacity: 1\">\n      <div data-min=\"0.005915557459535\" data-max=\"0.008895320530502\" data-scale=\"15\"><\/div>\n      <span style=\"float: left;\"><\/span>\n      <span style=\"float: right;\"><\/span>\n    <\/div>\n  <\/td>\n  <td data-type=\"character\" style=\"vertical-align: top;\">\n    <div class=\"form-group has-feedback\" style=\"margin-bottom: auto;\">\n      <input type=\"search\" placeholder=\"All\" class=\"form-control\" style=\"width: 100%;\"/>\n      <span class=\"glyphicon glyphicon-remove-circle form-control-feedback\"><\/span>\n    <\/div>\n  <\/td>\n  <td data-type=\"character\" style=\"vertical-align: top;\">\n    <div class=\"form-group has-feedback\" style=\"margin-bottom: auto;\">\n      <input type=\"search\" placeholder=\"All\" class=\"form-control\" style=\"width: 100%;\" disabled=\"\"/>\n      <span class=\"glyphicon glyphicon-remove-circle form-control-feedback\"><\/span>\n    <\/div>\n  <\/td>\n  <td data-type=\"character\" style=\"vertical-align: top;\">\n    <div class=\"form-group has-feedback\" style=\"margin-bottom: auto;\">\n      <input type=\"search\" placeholder=\"All\" class=\"form-control\" style=\"width: 100%;\"/>\n      <span class=\"glyphicon glyphicon-remove-circle form-control-feedback\"><\/span>\n    <\/div>\n  <\/td>\n<\/tr>","data":[["1","2","3","4","5","6","7","8","9","10","11","12","13","14","15","16","17","18","19","20","21","22","23","24","25","26","27","28","29","30","31","32","33","34","35","36","37","38","39","40","41","42","43","44","45","46","47","48","49","50","51","52","53","54","55","56","57","58","59","60","61","62","63","64","65","66","67","68","69","70","71","72","73","74","75","76","77","78","79","80","81","82","83","84","85","86","87","88","89","90","91","92","93","94","95","96","97","98","99","100","101","102","103","104","105","106","107","108","109","110","111","112","113","114","115","116","117","118","119","120","121","122","123","124","125","126","127","128","129","130","131","132","133","134","135","136","137","138","139","140","141","142","143","144","145","146","147","148","149","150","151","152","153","154","155","156","157","158","159","160","161","162","163","164","165","166","167","168","169","170","171","172","173","174","175","176","177","178","179","180","181","182","183","184","185","186","187","188","189","190","191","192","193","194","195","196","197","198","199","200","201","202","203","204","205","206","207","208","209","210","211","212","213","214","215","216","217","218","219","220","221","222","223","224","225","226","227","228","229","230","231","232","233","234","235","236","237","238","239","240","241","242","243","244","245","246","247","248","249","250","251","252","253","254","255","256","257","258","259","260","261","262","263","264","265","266","267","268","269","270","271","272","273","274","275","276","277","278","279","280","281","282","283","284","285","286","287","288","289","290","291","292","293","294","295","296","297","298","299","300","301","302","303","304","305","306","307","308","309","310","311","312","313","314","315","316","317","318","319","320","321","322","323","324","325","326","327","328","329","330","331","332","333","334","335","336","337","338","339","340","341","342","343","344","345","346","347","348","349","350","351","352","353","354","355","356","357","358","359","360","361","362","363","364","365","366","367","368","369","370","371","372","373","374","375","376","377","378","379","380","381","382","383","384","385","386","387","388","389","390","391","392","393","394","395","396","397","398","399","400","401","402","403","404","405","406","407","408","409","410","411","412","413","414","415","416","417","418","419","420","421","422","423","424","425","426","427","428","429","430","431","432","433","434","435","436","437","438","439","440","441","442","443","444","445","446","447","448","449","450","451","452","453","454","455","456","457","458","459","460","461","462","463","464","465","466","467","468","469","470","471","472","473","474","475","476","477","478","479","480","481","482","483","484","485","486","487","488","489","490","491","492","493","494","495","496","497","498","499","500","501","502","503","504","505","506","507","508","509","510","511","512","513","514","515","516","517","518","519","520","521","522","523","524","525","526","527","528","529","530","531","532","533","534","535","536","537","538","539","540","541","542","543","544","545","546","547","548","549","550","551","552","553","554","555","556","557","558","559","560","561","562","563","564","565","566","567","568","569","570","571","572","573","574","575","576","577","578","579","580","581","582","583","584","585","586","587","588","589","590","591","592","593","594","595","596","597","598","599","600","601","602","603","604","605","606","607","608","609","610","611","612","613","614","615","616","617","618","619","620","621","622","623","624","625","626","627","628","629","630","631","632","633","634","635","636","637","638","639","640","641","642","643","644","645","646","647","648","649","650","651","652","653","654","655","656","657","658","659","660","661","662","663","664","665","666","667","668","669","670","671","672","673","674","675","676","677","678","679","680","681","682","683","684","685","686","687","688","689","690","691","692","693","694","695","696","697","698","699","700","701","702","703","704","705","706","707","708","709","710","711","712","713","714","715","716","717","718","719","720","721","722","723","724","725","726","727","728","729","730","731","732","733","734","735","736","737","738","739","740","741","742","743","744","745","746","747","748","749","750","751","752","753","754","755","756","757","758","759","760","761","762","763","764","765","766","767","768","769","770","771","772","773","774","775","776","777","778","779","780","781","782","783","784","785","786","787","788","789","790","791","792","793","794","795","796","797","798","799","800","801","802","803","804","805","806","807","808","809","810","811","812","813","814","815","816","817","818"],[0.9933840625591316,0.9937167521845253,0.9938927235781745,0.9937634711752625,0.9935135368678646,0.9933993850779138,0.9931755472893465,0.993755810200171,0.9937595089793916,0.9936588523903518,0.99367208845167,0.9934781769520059,0.9935900731351447,0.9936182199853251,0.9937282998140884,0.9939057829765122,0.9933699234762328,0.9938258333842397,0.9938789082808002,0.9936908286161423,0.9933668683755911,0.993677776338456,0.9931890636294751,0.9938159336174183,0.9938037409158192,0.9935797197088356,0.9932609167956148,0.993015187562199,0.9935433576281021,0.9936118411429137,0.993747460141573,0.993438747336715,0.9936102110629637,0.9938217071312755,0.9936234945498658,0.9935239684757183,0.9935820090145737,0.9937265747271938,0.9930768284488177,0.9926411075243218,0.992564921264292,0.9932404109019187,0.9936376761019274,0.9936978261247218,0.9937019463350897,0.9938071818682019,0.9935788082268192,0.9933525659704771,0.9935498564310569,0.9936597439780531,0.991104679469499,0.9936826410924759,0.9935771410444701,0.9937521622009918,0.9935288572965919,0.9933836195368643,0.993652058457539,0.9935314012831794,0.9936603769433721,0.9934019889977269,0.993783372571869,0.993699698155356,0.9937608636627724,0.9937265204860068,0.9934686471974001,0.9933751977999253,0.9937293051682672,0.9937173454188434,0.9938582397337274,0.993821146759157,0.9939058270390142,0.9935946860102837,0.9937927562025313,0.9935203330798621,0.9930961996533718,0.9937412722126592,0.9936790091639305,0.9937503284478592,0.9937174772172445,0.9935453383154456,0.993776632448215,0.9937417918276953,0.9934779779017348,0.9934225942290296,0.9937269965891078,0.9935669293739191,0.9936098811328392,0.9932440152519419,0.9930224501904159,0.9936469109439782,0.9930165275448305,0.9934880933844505,0.9938209810671872,0.9938874433588395,0.9936412760599604,0.9938192952881026,0.9938144667909056,0.9938697313755653,0.9938084671997274,0.9936531617885018,0.9937521321474627,0.9938584094547933,0.9938861575223167,0.9936289680047748,0.9937355561820355,0.9934891178357956,0.9935985608166917,0.9936051361998266,0.9936929456886033,0.9938083458553503,0.993546544622925,0.9937747148387801,0.9938031420656712,0.9932163665509394,0.99379947662279,0.9939314836539259,0.9933735444876027,0.9936276778528667,0.9937921468765628,0.9936692865672647,0.9939089166626807,0.9939357575200128,0.9937677605343834,0.9938050748733001,0.9934585230021411,0.9938441796502565,0.9939933215075797,0.9937847069427175,0.9938985770393132,0.9938044571949188,0.9937400744116158,0.9935265678330392,0.993643182161777,0.9933545943314488,0.9934043975360989,0.9933791427034052,0.9931839919093239,0.9929189779302365,0.9933827174612722,0.9933766700533687,0.9937923601129552,0.9934750157055922,0.9939510392314779,0.9934093591533364,0.9938482731023341,0.9934943939234059,0.9937832414522454,0.9933708847292225,0.9938591531971381,0.9935309563064175,0.9937741988511968,0.993645088773408,0.9938788247230752,0.9936177025378927,0.9937669896830559,0.9934587526738644,0.9934880347556603,0.9934061960382971,0.9939311810123134,0.9937565020521852,0.9938700990762021,0.9936175551948569,0.9937771490440555,0.9936642525220957,0.9938505539507821,0.9936200842272797,0.993352990004146,0.9935551777978139,0.9936874873389167,0.9938302521792981,0.9937660636589444,0.9935854083662233,0.9932941021280232,0.9935914869990614,0.993627571426712,0.9937277309212733,0.9936415923191591,0.9938520874259803,0.9935148514026562,0.9938851883397503,0.9938834740398159,0.9934795606418765,0.9934119457327045,0.9936238079054069,0.9935015794948897,0.993497585171958,0.9935044772616627,0.9938850984520641,0.9938720962446107,0.9937158943901223,0.9937704598199101,0.9937354656587275,0.9933121458791929,0.9939256280958292,0.9937918788822053,0.9938172145365111,0.9937006050035456,0.993941528283007,0.9936271022109138,0.9933756539539382,0.9938951460186732,0.9938396447947782,0.9935490871481786,0.9938588959009822,0.9935674750833541,0.9930687715999509,0.9936182086602209,0.993819273936333,0.9935928366343586,0.9934077027236844,0.9934337342602092,0.9933502946908226,0.9932417591134252,0.99341170119099,0.993234722003455,0.9939274567285373,0.9935807410800889,0.9938161072021504,0.9933091091699875,0.9937079322187488,0.993116717173626,0.9936914535917417,0.9935679067316584,0.9936439331514335,0.9932026012569999,0.9937366319175767,0.99338367127371,0.9937342686790699,0.993850980270685,0.9934860139440512,0.9936242323870761,0.9932365369252797,0.9936086843215083,0.993811151278694,0.9933383558325288,0.9938060462854886,0.9935847368666252,0.9932566062044041,0.9938521199162434,0.9937395119867298,0.9938379245423713,0.9930627040247024,0.9932295196759414,0.9928944380148242,0.9931940058397648,0.9939023987096298,0.9934206382790242,0.9936769349978517,0.9938252914443504,0.9937501778383189,0.9939507491975121,0.9937884579923648,0.9935584039469957,0.9938696693161367,0.9939500245300575,0.9933317655186138,0.9936468272666465,0.993776087804036,0.9938632128419459,0.9937546970518192,0.9938635357964807,0.9931164428836279,0.9938777701269772,0.9935705671565229,0.9935988336128376,0.9935927808633801,0.993802827518288,0.9937398510195629,0.9930179490159688,0.9937964955754127,0.9936149965942234,0.9938162251942889,0.9936087785922564,0.9937553687582538,0.9930772476470376,0.9936363022641946,0.9933440597326996,0.9937019320894881,0.9935369036653134,0.9936152917241368,0.9936133025312703,0.99322414939043,0.9939015538117603,0.9934384520102563,0.9937036811074476,0.9935692795458474,0.9934180190064259,0.993869124490371,0.9935913827685681,0.9938260630466477,0.9935169931014741,0.9936569657997026,0.9937937506957133,0.9938583190022738,0.9936614823353132,0.9932733956484721,0.9935553028436297,0.9930613743347834,0.9935602970202301,0.9936824824563121,0.9935625579836407,0.9936670459183817,0.9937286806206074,0.9937962039460082,0.9935837080107973,0.9938109003314802,0.9936692338465717,0.9934839407272105,0.9934833330225606,0.9939262015643878,0.9939600458675244,0.9938290586364881,0.9935960801747539,0.9935442838365859,0.9934578182435296,0.9934501136689601,0.9938173340530939,0.9937708357269929,0.9937384529357677,0.993570966297974,0.9937694660955373,0.9932146852754876,0.9938374749164642,0.9938998890347545,0.9933489415911974,0.9938388769509788,0.9939366778638545,0.9936213909891257,0.9934950759642118,0.9938548578247725,0.9936881164081204,0.9938767204828485,0.9938426136007321,0.9939132858876013,0.99394922762827,0.9937960311732502,0.9939561542828502,0.9937337848929803,0.9935309940738745,0.9933921800055704,0.993817252137972,0.9938858493928556,0.9933593286416752,0.9938315109387271,0.9937956338191338,0.993884576614091,0.993888036926438,0.9933989597657849,0.9935443578997932,0.9938500537930378,0.9939186906105276,0.9939015044260527,0.9937961782329985,0.9939107809865722,0.9938337958336478,0.9935387615098684,0.9939344627014524,0.9938766073376017,0.9939097651052158,0.9938111967479564,0.9939159634860811,0.9938715233748426,0.9939657478563301,0.9938366376748385,0.9936554137812091,0.9939497952682186,0.9939281146159962,0.9936497991007901,0.9939541338879846,0.9937660644648204,0.9921119085512926,0.9935744722187577,0.9937257939904268,0.9938824771983845,0.9937606926667557,0.9937194427010263,0.9934866778930234,0.9935133947333369,0.9930885403642349,0.9937237320030433,0.9937318964286279,0.9936925451570968,0.9938447800509216,0.9931958071488531,0.9935793106146331,0.9935971953251621,0.9938579310709565,0.9933782539239558,0.993882769295206,0.9934938805978193,0.9937563260268234,0.9938004542746872,0.9938362858836892,0.9938637285528867,0.9935945629752602,0.9940492111634999,0.9939049610990202,0.9940433881143133,0.9938932886310123,0.9939521140478846,0.9940281252352419,0.9938787094317124,0.9940425633916418,0.9938739924393097,0.9940134392753313,0.9939777318459581,0.9939877711786768,0.9939340394965289,0.9940331949696209,0.9938804891896958,0.9938549634233278,0.9937852471901922,0.9938948301483292,0.9940357945424824,0.9938652967893901,0.9938841837724822,0.9939493985090712,0.9940020470848488,0.9938191386877887,0.9938752453552662,0.9938196248890466,0.9939307759688399,0.9940370661750899,0.9938005540075817,0.9939346356083417,0.9938411169470405,0.9934621565563765,0.9939371341496361,0.9938321343850409,0.993896303974912,0.9939959789744017,0.9940096484615484,0.9938911858968525,0.9938772961532081,0.9937409290580841,0.9938747903747748,0.9939998316337513,0.9939140087991334,0.9939097959680664,0.9939228761310629,0.9940011021264379,0.9936168602961736,0.9940844425404647,0.9937769419837257,0.9937774685777806,0.9935318138699513,0.9939966889478334,0.9935889923769226,0.9939854347178834,0.9937782240503893,0.9937292987657753,0.9938485955757781,0.9939844852315632,0.9939592290842876,0.9938707814252962,0.9935710731738948,0.9938865692821132,0.9937477947948279,0.9934321223533851,0.9938186429201482,0.9939333080149554,0.9938674956891171,0.9938833357757667,0.9938644124514971,0.9938074374031406,0.9940465728655378,0.9939205557629133,0.9939861862742366,0.9938770010260526,0.993886903114414,0.9940525926085096,0.9939021297123218,0.993892092429011,0.9939041498008812,0.9939747227382337,0.9939477742299563,0.9940144300136271,0.9939927241318399,0.9938832041420257,0.9938552133267685,0.9940043593305321,0.9937643185782007,0.993600645084275,0.993784456055491,0.9938676113059629,0.9940471933844665,0.9937917452541938,0.9939325596966254,0.993602758678319,0.9939483107688996,0.993974735521276,0.9939003351706676,0.9936265500328896,0.9938694598825589,0.9938215305262319,0.9927384564171705,0.9937817306838521,0.9940171433302022,0.9939263633566026,0.9939194635462359,0.9937709775986259,0.9938437101765283,0.9939027208098928,0.9926524230329413,0.9938913469549298,0.9939242285752882,0.9939355804293732,0.9939674073056632,0.9938309967152663,0.9938843896787742,0.9937881099908138,0.9938340728980026,0.9938084153388027,0.9939361626624224,0.993718139762247,0.9938849063963215,0.9938798067206027,0.9940819954483829,0.9939011873244687,0.9939272104978779,0.9939744164380526,0.9939037868781843,0.993962086021673,0.9939598654291872,0.9938601627247708,0.9939400776067928,0.9939670530275861,0.9939601448765958,0.9938062904176547,0.9939140664696511,0.9936456655102185,0.993845278676208,0.9935946495867404,0.9938841128797568,0.9934814910367136,0.9936739442755083,0.9937189043639968,0.9938839982230129,0.9934734349165529,0.9939311738304096,0.9937083083348732,0.9931115100955902,0.9934743044543985,0.9937786656573467,0.9937069168657428,0.993801374954792,0.9934916629355403,0.9935066508296315,0.993160376086575,0.993255711301521,0.9930159456878348,0.9939456228642414,0.9936845430559218,0.993814559921992,0.9932439339661746,0.993819898095208,0.9932575160378546,0.99348747439061,0.9938953267244623,0.9937911874432115,0.9939383607105582,0.9939035141675074,0.9931938138057215,0.9937646300821497,0.9935417410878415,0.9928839212144172,0.993161077294462,0.9928744304311261,0.9934246001863967,0.9928932098535127,0.9933484549345851,0.9935128425486104,0.9934040229865563,0.9938102863576792,0.9938885843420455,0.9936328798442696,0.9939198581887929,0.9937714760628191,0.9935922822674434,0.9938523274044155,0.9939270717076115,0.9933600301031831,0.9937952411484948,0.9937663103799703,0.9939070333429876,0.9938585831584803,0.9938310816113124,0.9931119928838354,0.9938364328178169,0.9935445239202296,0.993430022033327,0.9937981178366717,0.9937338172263781,0.9937817345910614,0.9931358650789576,0.9939199632296152,0.993650863393767,0.9938174102633686,0.9934533695301418,0.9937228303918162,0.99316925176725,0.9934232885356878,0.9936187544030219,0.9932094088518353,0.9928203908943758,0.9937680353943752,0.9938978876074193,0.9938988966376068,0.9933835036428064,0.9935623974230804,0.9935689778113199,0.9936883062720152,0.993922490576821,0.9938945792603692,0.9937421027285746,0.9937082281556282,0.9936788781999391,0.9935036789218408,0.9937621053960848,0.9936772564197345,0.9937042055972771,0.9936928134882438,0.9940195337176888,0.9940005634203115,0.9937133570681264,0.9938226903093997,0.9937258468768663,0.9934026493491054,0.9936608405396178,0.9934387981932803,0.9933312542251237,0.9930798264975191,0.9935858655377373,0.9936817642483625,0.9931642271956256,0.993850558446856,0.9934298961267486,0.9936733491611773,0.9938174229584202,0.9934374796584787,0.9933966429588619,0.993458525642412,0.9935001634119528,0.9931898352731338,0.9937427129751373,0.9931951655911762,0.993514740809388,0.9936973007908222,0.993832593412912,0.9936014619753555,0.9933782148913564,0.9935786668341103,0.9936237625569766,0.9934336992681142,0.9931162853239677,0.9936492382356058,0.9937934738602082,0.993626781008787,0.9933547592981853,0.9936036152068574,0.9933839713013347,0.993294657887227,0.9928024742987274,0.9935471208043087,0.993651842435247,0.9929522564881899,0.9937895197390384,0.9931601371863772,0.9936868208244716,0.9932650409263585,0.9934081327969252,0.9935544448740403,0.9933021539064228,0.9929827837842528,0.9935245232828894,0.9927061677914151,0.9936624872396035,0.993198426157045,0.9932368833205554,0.9933172570833056,0.9933006529200674,0.9936569529437232,0.9928187262907298,0.9931018620256202,0.9938839644363154,0.9929728546083841,0.9938088749115279,0.9936705660943614,0.9936520971415325,0.9936472010220991,0.9936942322967232,0.9938396547996926,0.9933660074030928,0.9935511063428193,0.9936017958247987,0.9936470859610876,0.9932381374076947,0.9934085393426504,0.9931443993188437,0.9933164572277157,0.9934573978682992,0.9937242506646923,0.9939700042394388,0.9939005339844915,0.9934200370206225,0.9937655362272484,0.9937309818377318,0.9934784845026546,0.993776090850953,0.9937211058247596,0.9936872295636905,0.9937141454165291,0.9939996339617677,0.9939707763279593,0.9931995173742805,0.9934888723294324,0.9937084433153267,0.9935160124229337,0.9931845314437464,0.9934203640665031,0.9937757574654982,0.993862211194784,0.993857864529114,0.9938178628194118,0.9937447516017779,0.9934567147368211,0.9938713765393103,0.9939386487236989,0.9935938890957228,0.9937927120709024,0.9937783753342373,0.9936857326340882,0.9935615195940514,0.9932484492365793,0.9930800048654497,0.9938624121597596,0.9937144416200206,0.9935206712627984,0.9937504191697238,0.9937968764159767,0.9937866799748514,0.9937264908734671,0.9937834890257362,0.9938624033899444,0.9937654632950769,0.9935090066494657,0.9937142845623944,0.9938049638664677,0.993816423363861,0.9937159838273764,0.9936303978335667,0.993463544775111,0.993684713802967,0.9938128271903701,0.9937986577961575,0.9936851540934766,0.9938975210106997,0.9936747078276486,0.9938130615571271,0.9937305329411721,0.9938327781214762,0.9933910487694581,0.9936794756467169,0.9938696702863176,0.9938051481145679,0.9937640017436252,0.9934350231562399,0.9937170492717502,0.9936594569884192,0.9937803145290623,0.9936972796346037,0.9938637648237937,0.9937671329294886,0.9937150196749338,0.9937044521438458,0.9937637915095373,0.9937081965528208,0.9935478544223326,0.993779662524868,0.9936156004510358,0.9937479409701978,0.9936843179933226,0.9934987958317566,0.9934236950464765,0.9937373833156681,0.9937619507707677,0.9935802032552814,0.9934573700018409,0.9935575273441332,0.9934653228065305,0.9938672458801673,0.9938480108803266,0.9939172204953634,0.993936238842316,0.9939070226900556,0.9936988141200876,0.9939405504027587,0.9938998362465418,0.9939202310286595,0.9938132906125282,0.9937754453007741,0.9938592600438062,0.9939868421240454,0.9938825763327427,0.9938914021756775,0.9939257376480671,0.9938263946880015,0.9938919691355887,0.993997498974568,0.9936798588079109,0.9937405701934172,0.9933905086448479,0.9937519986888808,0.9938617472633319,0.9937965349277278,0.9935101503206527,0.993905285543442,0.9938555884886014],[0.006615937440868414,0.006283247815474735,0.006107276421825514,0.006236528824737464,0.006486463132135412,0.00660061492208619,0.006824452710653461,0.006244189799828992,0.006240491020608419,0.006341147609648212,0.006327911548330012,0.006521823047994091,0.006409926864855309,0.006381780014674932,0.006271700185911611,0.00609421702348778,0.006630076523767237,0.006174166615760313,0.006121091719199834,0.00630917138385767,0.006633131624408928,0.006322223661544002,0.006810936370524878,0.006184066382581732,0.006196259084180755,0.006420280291164371,0.00673908320438521,0.006984812437801025,0.006456642371897914,0.006388158857086323,0.006252539858426998,0.006561252663285,0.006389788937036345,0.006178292868724511,0.00637650545013424,0.006476031524281667,0.006417990985426281,0.006273425272806166,0.006923171551182272,0.007358892475678225,0.007435078735708034,0.006759589098081276,0.006362323898072564,0.006302173875278205,0.006298053664910319,0.006192818131798061,0.00642119177318079,0.006647434029522947,0.006450143568943134,0.006340256021946877,0.008895320530501016,0.006317358907524051,0.006422858955529853,0.006247837799008171,0.006471142703408095,0.006616380463135729,0.006347941542460989,0.006468598716820595,0.006339623056627941,0.006598011002273085,0.006216627428131005,0.00630030184464403,0.006239136337227613,0.006273479513993152,0.006531352802599866,0.006624802200074664,0.006270694831732815,0.006282654581156621,0.006141760266272556,0.006178853240842996,0.0060941729609858,0.006405313989716332,0.006207243797468731,0.006479666920137905,0.006903800346628186,0.006258727787340823,0.006320990836069518,0.006249671552140845,0.00628252278275554,0.006454661684554441,0.006223367551784986,0.006258208172304713,0.006522022098265245,0.006577405770970435,0.006273003410892208,0.006433070626080895,0.006390118867160788,0.006755984748058053,0.006977549809584094,0.006353089056021832,0.006983472455169504,0.006511906615549456,0.006179018932812808,0.006112556641160505,0.006358723940039557,0.006180704711897356,0.006185533209094429,0.006130268624434665,0.006191532800272626,0.006346838211498174,0.006247867852537281,0.006141590545206688,0.006113842477683318,0.006371031995225152,0.006264443817964538,0.006510882164204368,0.006401439183308266,0.0063948638001734,0.006307054311396665,0.006191654144649728,0.006453455377074979,0.006225285161219896,0.006196857934328781,0.006783633449060633,0.006200523377209999,0.006068516346074082,0.006626455512397267,0.006372322147133347,0.00620785312343719,0.00633071343273528,0.006091083337319336,0.006064242479987159,0.006232239465616574,0.006194925126699946,0.006541476997858897,0.00615582034974349,0.006006678492420314,0.006215293057282523,0.006101422960686831,0.006195542805081167,0.006259925588384174,0.006473432166960835,0.00635681783822295,0.006645405668551208,0.006595602463901118,0.006620857296594784,0.006816008090676062,0.007081022069763465,0.006617282538727842,0.006623329946631284,0.006207639887044758,0.006524984294407843,0.006048960768522127,0.006590640846663609,0.006151726897665855,0.006505606076594117,0.006216758547754608,0.006629115270777475,0.006140846802861866,0.006469043693582477,0.006225801148803223,0.006354911226592042,0.006121175276924795,0.006382297462107278,0.006233010316944121,0.006541247326135591,0.006511965244339724,0.006593803961702949,0.006068818987686631,0.006243497947814758,0.006129900923797948,0.00638244480514305,0.006222850955944548,0.00633574747790433,0.006149446049217855,0.006379915772720346,0.006647009995853992,0.006444822202186118,0.006312512661083347,0.006169747820701899,0.006233936341055624,0.006414591633776667,0.00670589787197684,0.006408513000938587,0.006372428573288014,0.006272269078726689,0.00635840768084095,0.006147912574019698,0.006485148597343837,0.006114811660249742,0.006116525960184083,0.00652043935812352,0.006588054267295473,0.006376192094593058,0.006498420505110292,0.006502414828042036,0.006495522738337312,0.006114901547935925,0.006127903755389297,0.006284105609877688,0.006229540180089921,0.006264534341272499,0.00668785412080708,0.006074371904170817,0.006208121117794674,0.006182785463488938,0.006299394996454377,0.00605847171699303,0.006372897789086229,0.006624346046061769,0.006104853981326763,0.006160355205221846,0.006450912851821422,0.006141104099017802,0.006432524916645921,0.006931228400049116,0.006381791339779119,0.006180726063667041,0.0064071633656414,0.006592297276315606,0.0065662657397908,0.006649705309177412,0.00675824088657484,0.006588298809010018,0.006765277996545027,0.006072543271462671,0.006419258919911131,0.006183892797849588,0.006690890830012508,0.006292067781251243,0.00688328282637396,0.006308546408258286,0.006432093268341599,0.006356066848566488,0.006797398743000116,0.006263368082423337,0.006616328726290033,0.006265731320930112,0.006149019729315031,0.006513986055948773,0.00637576761292391,0.006763463074720311,0.006391315678491716,0.006188848721305984,0.00666164416747117,0.006193953714511369,0.006415263133374816,0.006743393795595853,0.006147880083756552,0.006260488013270171,0.006162075457628702,0.006937295975297575,0.006770480324058581,0.007105561985175757,0.006805994160235196,0.00609760129037018,0.00657936172097584,0.006323065002148298,0.006174708555649611,0.006249822161681129,0.00604925080248786,0.006211542007635185,0.006441596053004317,0.006130330683863261,0.006049975469942459,0.006668234481386204,0.006353172733353452,0.006223912195963965,0.006136787158054102,0.00624530294818082,0.006136464203519321,0.006883557116372119,0.0061222298730228,0.006429432843477079,0.006401166387162371,0.006407219136619902,0.006197172481712032,0.006260148980437141,0.006982050984031152,0.006203504424587281,0.006385003405776635,0.006183774805711084,0.006391221407743619,0.006244631241746235,0.006922752352962358,0.006363697735805363,0.006655940267300431,0.006298067910511906,0.006463096334686558,0.006384708275863238,0.006386697468729663,0.006775850609569978,0.006098446188239737,0.006561547989743732,0.006296318892552444,0.006430720454152605,0.006581980993574099,0.006130875509628986,0.006408617231431935,0.006173936953352333,0.006483006898525878,0.006343034200297359,0.006206249304286704,0.006141680997726162,0.006338517664686849,0.006726604351527943,0.006444697156370305,0.006938625665216636,0.006439702979769923,0.006317517543687923,0.006437442016359318,0.006332954081618269,0.006271319379392626,0.006203796053991795,0.006416291989202683,0.006189099668519771,0.006330766153428313,0.006516059272789532,0.006516666977439356,0.006073798435612177,0.0060399541324756,0.006170941363511928,0.006403919825246129,0.006455716163414116,0.006542181756470367,0.006549886331039922,0.006182665946906085,0.006229164273007126,0.00626154706423232,0.006429033702025966,0.006230533904462709,0.006785314724512381,0.006162525083535764,0.006100110965245542,0.006651058408802646,0.006161123049021167,0.006063322136145466,0.006378609010874281,0.006504924035788173,0.006145142175227547,0.006311883591879619,0.006123279517151525,0.006157386399267883,0.006086714112398695,0.006050772371730018,0.006203968826749784,0.006043845717149776,0.006266215107019746,0.006469005926125537,0.006607819994429609,0.006182747862027993,0.006114150607144375,0.006640671358324801,0.006168489061272875,0.006204366180866172,0.00611542338590898,0.006111963073561988,0.00660104023421515,0.006455642100206771,0.006149946206962187,0.006081309389472378,0.00609849557394726,0.006203821767001516,0.006089219013427849,0.006166204166352163,0.006461238490131582,0.006065537298547641,0.006123392662398253,0.006090234894784219,0.006188803252043629,0.006084036513918867,0.006128476625157364,0.006034252143669927,0.006163362325161459,0.00634458621879086,0.006050204731781417,0.006071885384003828,0.006350200899209901,0.006045866112015408,0.006233935535179591,0.007888091448707391,0.00642552778124228,0.00627420600957318,0.006117522801615483,0.006239307333244293,0.006280557298973699,0.006513322106976638,0.006486605266663115,0.006911459635765116,0.006276267996956686,0.006268103571372086,0.006307454842903182,0.006155219949078417,0.006804192851146862,0.006420689385366884,0.006402804674837892,0.006142068929043454,0.006621746076044155,0.006117230704793974,0.00650611940218071,0.0062436739731766,0.006199545725312783,0.006163714116310781,0.006136271447113262,0.006405437024739835,0.005950788836500132,0.006095038900979843,0.005956611885686747,0.006106711368987661,0.006047885952115362,0.005971874764758134,0.006121290568287585,0.005957436608358235,0.006126007560690261,0.005986560724668744,0.006022268154041943,0.00601222882132324,0.00606596050347108,0.005966805030379052,0.006119510810304152,0.006145036576672203,0.006214752809807766,0.006105169851670755,0.005964205457517635,0.006134703210609938,0.006115816227517779,0.006050601490928842,0.00599795291515115,0.006180861312211294,0.006124754644733832,0.006180375110953373,0.006069224031160059,0.005962933824910088,0.006199445992418284,0.006065364391658279,0.00615888305295953,0.006537843443623514,0.006062865850363863,0.006167865614959078,0.006103696025087979,0.006004021025598272,0.005990351538451621,0.006108814103147453,0.006122703846791921,0.006259070941915912,0.006125209625225225,0.006000168366248726,0.006085991200866614,0.00609020403193361,0.006077123868937107,0.005998897873562115,0.006383139703826424,0.005915557459535314,0.006223058016274319,0.006222531422219402,0.006468186130048736,0.00600331105216656,0.006411007623077447,0.006014565282116635,0.006221775949610708,0.006270701234224685,0.006151404424221907,0.006015514768436758,0.006040770915712423,0.006129218574703832,0.006428926826105186,0.006113430717886836,0.006252205205172112,0.006567877646614928,0.00618135707985179,0.006066691985044614,0.006132504310882858,0.006116664224233292,0.006135587548502852,0.006192562596859408,0.00595342713446223,0.006079444237086729,0.006013813725763373,0.006122998973947413,0.006113096885586033,0.005947407391490356,0.006097870287678164,0.006107907570989002,0.006095850199118846,0.006025277261766271,0.006052225770043718,0.005985569986372896,0.006007275868160078,0.006116795857974311,0.006144786673231484,0.005995640669467894,0.006235681421799311,0.006399354915724964,0.006215543944508961,0.006132388694037094,0.005952806615533546,0.006208254745806219,0.006067440303374583,0.006397241321680958,0.006051689231100443,0.00602526447872398,0.006099664829332441,0.006373449967110423,0.006130540117441075,0.0061784694737681,0.007261543582829488,0.006218269316147884,0.005982856669797809,0.00607363664339744,0.006080536453764052,0.006229022401374129,0.006156289823471717,0.006097279190107163,0.007347576967058678,0.006108653045070245,0.006075771424711829,0.006064419570626756,0.006032592694336758,0.006169003284733687,0.006115610321225762,0.006211890009186205,0.00616592710199737,0.006191584661197291,0.006063837337577649,0.006281860237753012,0.006115093603678456,0.006120193279397279,0.005918004551617062,0.006098812675531251,0.006072789502122089,0.006025583561947379,0.006096213121815741,0.006037913978326981,0.006040134570812761,0.006139837275229154,0.006059922393207184,0.006032946972413855,0.006039855123404214,0.00619370958234533,0.006085933530348919,0.00635433448978151,0.006154721323792023,0.006405350413259625,0.006115887120243246,0.006518508963286429,0.006326055724491741,0.006281095636003209,0.006116001776987123,0.006526565083447067,0.006068826169590369,0.006291691665126775,0.006888489904409822,0.006525695545601451,0.006221334342653262,0.006293083134257249,0.006198625045207962,0.006508337064459746,0.006493349170368479,0.006839623913424964,0.006744288698478984,0.0069840543121652,0.006054377135758626,0.006315456944078202,0.006185440078008031,0.006756066033825392,0.006180101904792012,0.006742483962145385,0.006512525609389974,0.006104673275537653,0.006208812556788512,0.006061639289441811,0.00609648583249256,0.00680618619427853,0.006235369917850342,0.006458258912158454,0.007116078785582847,0.006838922705537986,0.007125569568873891,0.006575399813603333,0.007106790146487296,0.006651545065414877,0.006487157451389614,0.006595977013443721,0.006189713642320793,0.006111415657954478,0.006367120155730377,0.006080141811207085,0.006228523937180874,0.00640771773255655,0.006147672595584464,0.00607292829238848,0.006639969896816922,0.006204758851505177,0.006233689620029681,0.006092966657012422,0.006141416841519698,0.006168918388687605,0.006888007116164552,0.006163567182183138,0.006455476079770373,0.006569977966673024,0.006201882163328287,0.006266182773621898,0.00621826540893855,0.006864134921042431,0.006080036770384822,0.006349136606233041,0.006182589736631439,0.00654663046985815,0.006277169608183808,0.006830748232749984,0.006576711464312157,0.006381245596978058,0.006790591148164715,0.007179609105624207,0.006231964605624807,0.006102112392580739,0.006101103362393223,0.006616496357193635,0.00643760257691961,0.00643102218868008,0.006311693727984791,0.006077509423178973,0.006105420739630829,0.00625789727142545,0.006291771844371796,0.006321121800060947,0.006496321078159228,0.006237894603915217,0.006322743580265522,0.006295794402722876,0.006307186511756213,0.005980466282311192,0.005999436579688489,0.006286642931873643,0.006177309690600263,0.00627415312313373,0.006597350650894618,0.006339159460382215,0.006561201806719708,0.006668745774876306,0.006920173502480864,0.006414134462262688,0.00631823575163748,0.006835772804374418,0.006149441553144008,0.006570103873251409,0.006326650838822667,0.006182577041579762,0.006562520341521272,0.006603357041138125,0.006541474357588006,0.006499836588047203,0.006810164726866241,0.006257287024862723,0.006804834408823845,0.006485259190612047,0.006302699209177809,0.006167406587088031,0.006398538024644518,0.006621785108643641,0.006421333165889664,0.006376237443023403,0.006566300731885799,0.006883714676032326,0.006350761764394197,0.006206526139791779,0.006373218991213014,0.006645240701814714,0.00639638479314264,0.006616028698665288,0.006705342112772961,0.007197525701272633,0.006452879195691263,0.006348157564753043,0.007047743511810145,0.006210480260961604,0.00683986281362281,0.006313179175528427,0.006734959073641522,0.006591867203074808,0.006445555125959679,0.006697846093577153,0.007017216215747246,0.006475476717110573,0.007293832208584927,0.006337512760396513,0.006801573842954989,0.006763116679444625,0.006682742916694351,0.006699347079932583,0.006343047056276752,0.007181273709270242,0.00689813797437977,0.006116035563684563,0.007027145391615863,0.006191125088472083,0.00632943390563856,0.006347902858467536,0.006352798977900864,0.006305767703276843,0.006160345200307393,0.006633992596907223,0.00644889365718071,0.006398204175201316,0.006352914038912361,0.006761862592305268,0.006591460657349613,0.006855600681156315,0.006683542772284334,0.00654260213170077,0.006275749335307723,0.00602999576056118,0.006099466015508481,0.006579962979377463,0.006234463772751608,0.006269018162268214,0.006521515497345365,0.006223909149047024,0.006278894175240413,0.006312770436309512,0.006285854583470862,0.006000366038232285,0.006029223672040729,0.006800482625719528,0.006511127670567607,0.006291556684673294,0.006483987577066253,0.00681546855625359,0.006579635933496863,0.006224242534501823,0.006137788805215982,0.006142135470886045,0.006182137180588243,0.006255248398222113,0.006543285263178933,0.006128623460689653,0.006061351276301141,0.006406110904277229,0.006207287929097638,0.006221624665762704,0.006314267365911785,0.006438480405948632,0.006751550763420711,0.006919995134550327,0.006137587840240433,0.00628555837997935,0.006479328737201584,0.006249580830276158,0.006203123584023307,0.006213320025148628,0.006273509126532906,0.006216510974263789,0.00613759661005564,0.006234536704923133,0.006490993350534269,0.006285715437605588,0.006195036133532339,0.006183576636138999,0.006284016172623641,0.006369602166433341,0.006536455224888993,0.006315286197033032,0.006187172809629882,0.006201342203842497,0.006314845906523425,0.006102478989300275,0.006325292172351449,0.00618693844287288,0.006269467058827916,0.00616722187852381,0.006608951230541948,0.006320524353283119,0.006130329713682436,0.006194851885432118,0.006235998256374775,0.006564976843760117,0.006282950728249803,0.006340543011580824,0.006219685470937653,0.006302720365396253,0.006136235176206317,0.006232867070511405,0.006284980325066192,0.00629554785615416,0.006236208490462691,0.006291803447179167,0.006452145577667379,0.006220337475131954,0.006384399548964192,0.006252059029802193,0.006315682006677426,0.006501204168243402,0.00657630495352346,0.006262616684331923,0.006238049229232323,0.006419796744718598,0.006542629998159133,0.006442472655866838,0.006534677193469451,0.006132754119832717,0.006151989119673407,0.006082779504636648,0.006063761157684033,0.006092977309944403,0.006301185879912352,0.006059449597241251,0.006100163753458232,0.006079768971340549,0.006186709387471789,0.006224554699225893,0.006140739956193797,0.006013157875954578,0.006117423667257316,0.006108597824322493,0.006074262351932869,0.006173605311998509,0.006108030864411251,0.006002501025431983,0.006320141192089124,0.006259429806582784,0.006609491355152097,0.006248001311119245,0.006138252736668126,0.006203465072272207,0.006489849679347293,0.006094714456557959,0.006144411511398551],["John","John","Paul","Paul","Paul","John","John","Paul","John","Paul","John","Paul","Paul","John","Paul","John","John","John","Paul","John","John","Paul","John","John","Paul","John","John","John","John","Paul","John","John","John","John","John","John","Paul","Paul","Paul","Paul","Paul","Paul","Paul","Paul","John","Paul","Paul","Paul","Paul","Paul","Paul","John","Paul","Paul","Paul","John","Paul","John","Paul","Paul","Paul","John","John","John","Paul","Paul","John","Paul","John","John","Paul","Paul","John","John","Paul","Paul","Paul","Paul","John","John","Paul","Paul","Paul","Paul","Paul","Paul","John","Paul","Paul","John","Paul","John","Paul","John","John","John","John","John","John","John","John","John","Paul","John","Paul","John","John","Paul","Paul","John","John","John","John","John","John","John","John","John","John","John","John","John","John","John","John","John","John","John","John","John","John","John","Paul","John","Paul","Paul","Paul","Paul","John","John","John","John","John","John","John","John","John","John","John","Paul","John","John","John","Paul","Paul","Paul","Paul","John","John","John","John","Paul","Paul","John","John","John","Paul","John","John","John","Paul","Paul","John","John","John","John","John","John","John","John","John","Paul","John","Paul","John","John","John","Paul","John","John","John","John","John","John","John","John","John","John","John","John","John","Paul","John","John","John","John","John","John","Paul","Paul","John","John","John","John","John","Paul","Paul","Paul","John","Paul","John","John","John","John","John","John","John","John","John","John","John","John","John","John","John","John","John","John","John","John","John","John","John","John","John","John","John","John","Paul","John","John","John","John","John","John","John","John","John","Paul","Paul","John","John","Paul","John","John","Paul","John","Paul","John","John","John","Paul","John","John","John","Paul","John","John","Paul","John","John","John","John","John","John","John","John","John","John","John","John","John","John","John","John","John","John","John","Paul","Paul","John","John","John","John","John","John","John","John","John","John","John","John","John","John","John","John","John","John","John","John","John","John","John","John","John","John","John","John","John","John","John","John","John","John","John","John","John","John","John","John","John","John","John","John","John","John","John","John","John","John","John","John","John","John","Paul","John","Paul","John","John","Paul","Paul","Paul","John","John","Paul","John","John","Paul","Paul","Paul","Paul","Paul","John","Paul","Paul","Paul","Paul","Paul","Paul","Paul","John","John","John","Paul","John","Paul","John","John","John","Paul","Paul","John","John","John","John","John","John","John","John","John","John","John","John","John","John","John","John","John","John","John","John","John","John","John","John","John","Paul","John","John","John","John","John","John","John","John","John","John","John","John","John","John","John","John","John","John","John","John","John","John","John","John","John","John","John","John","John","John","John","John","John","John","John","John","John","John","John","John","John","John","Paul","John","John","John","John","John","John","John","John","John","John","John","John","John","John","John","John","John","John","John","John","John","John","John","John","John","John","John","John","John","John","John","John","John","John","John","John","John","John","John","John","John","John","John","John","John","John","John","John","John","John","John","John","John","John","John","John","John","John","John","John","John","John","John","John","John","John","John","John","John","John","John","John","Paul","John","John","John","John","Paul","John","John","John","John","John","John","John","John","John","John","John","John","John","John","John","John","John","John","John","John","John","John","John","John","Paul","John","John","John","John","John","John","John","John","Paul","John","John","Paul","John","John","John","John","John","John","John","John","John","John","John","John","John","Paul","John","John","John","John","John","John","John","John","John","John","John","John","John","John","John","John","John","John","John","John","Paul","John","Paul","John","John","John","Paul","John","John","John","John","John","John","John","Paul","John","Paul","Paul","Paul","Paul","Paul","John","Paul","John","John","Paul","Paul","Paul","John","Paul","Paul","John","John","Paul","John","John","John","John","Paul","John","Paul","John","John","John","John","John","Paul","Paul","Paul","Paul","Paul","Paul","John","Paul","John","John","Paul","Paul","Paul","John","John","John","John","Paul","Paul","John","Paul","John","Paul","John","John","John","John","John","John","John","John","John","John","John","John","John","John","John","John","John","Paul","John","John","John","John","John","John","John","John","John","John","John","John","John","John","John","John","John","John","John","John","John","John","John","John","John","John","John","John","John","John","John","Paul","Paul","Paul","John","John","John","Paul","Paul","John","John","John","John","John","John","John","John","John","John","John","John","John","John","Paul","Paul","John","John","Paul","Paul","Paul","John","Paul","Paul","Paul","John","John","Paul","John","Paul","Paul","Paul","John","John","Paul","Paul","John","John","John","Paul","Paul","Paul","Paul","Paul","John","Paul","John","Paul","Paul","Paul","Paul","Paul","Paul","Paul","Paul","John","John","John","John","John","John","John","John","John","John","Paul","John","John","Paul","John","John","John","John","John","John","John","Paul","John","John","John","John","John","John"],["Paul","Paul","Paul","Paul","Paul","Paul","Paul","Paul","Paul","Paul","Paul","Paul","Paul","Paul","Paul","Paul","Paul","Paul","Paul","Paul","Paul","Paul","Paul","Paul","Paul","Paul","Paul","Paul","Paul","Paul","Paul","Paul","Paul","Paul","Paul","Paul","Paul","Paul","Paul","Paul","Paul","Paul","Paul","Paul","Paul","Paul","Paul","Paul","Paul","Paul","Paul","Paul","Paul","Paul","Paul","Paul","Paul","Paul","Paul","Paul","Paul","Paul","Paul","Paul","Paul","Paul","Paul","Paul","Paul","Paul","Paul","Paul","Paul","Paul","Paul","Paul","Paul","Paul","Paul","Paul","Paul","Paul","Paul","Paul","Paul","Paul","Paul","Paul","Paul","Paul","Paul","Paul","Paul","Paul","Paul","Paul","Paul","Paul","Paul","Paul","Paul","Paul","Paul","Paul","Paul","Paul","Paul","Paul","Paul","Paul","Paul","Paul","Paul","Paul","Paul","Paul","Paul","Paul","Paul","Paul","Paul","Paul","Paul","Paul","Paul","Paul","Paul","Paul","Paul","Paul","Paul","Paul","Paul","Paul","Paul","Paul","Paul","Paul","Paul","Paul","Paul","Paul","Paul","Paul","Paul","Paul","Paul","Paul","Paul","Paul","Paul","Paul","Paul","Paul","Paul","Paul","Paul","Paul","Paul","Paul","Paul","Paul","Paul","Paul","Paul","Paul","Paul","Paul","Paul","Paul","Paul","Paul","Paul","Paul","Paul","Paul","Paul","Paul","Paul","Paul","Paul","Paul","Paul","Paul","Paul","Paul","Paul","Paul","Paul","Paul","Paul","Paul","Paul","Paul","Paul","Paul","Paul","Paul","Paul","Paul","Paul","Paul","Paul","Paul","Paul","Paul","Paul","Paul","Paul","Paul","Paul","Paul","Paul","Paul","Paul","Paul","Paul","Paul","Paul","Paul","Paul","Paul","Paul","Paul","Paul","Paul","Paul","Paul","Paul","Paul","Paul","Paul","Paul","Paul","Paul","Paul","Paul","Paul","Paul","Paul","Paul","Paul","Paul","Paul","Paul","Paul","Paul","Paul","Paul","Paul","Paul","Paul","Paul","Paul","Paul","Paul","Paul","Paul","Paul","Paul","Paul","Paul","Paul","Paul","Paul","Paul","Paul","Paul","Paul","Paul","Paul","Paul","Paul","Paul","Paul","Paul","Paul","Paul","Paul","Paul","Paul","Paul","Paul","Paul","Paul","Paul","Paul","Paul","Paul","Paul","Paul","Paul","Paul","Paul","Paul","Paul","Paul","Paul","Paul","Paul","Paul","Paul","Paul","Paul","Paul","Paul","Paul","Paul","Paul","Paul","Paul","Paul","Paul","Paul","Paul","Paul","Paul","Paul","Paul","Paul","Paul","Paul","Paul","Paul","Paul","Paul","Paul","Paul","Paul","Paul","Paul","Paul","Paul","Paul","Paul","Paul","Paul","Paul","Paul","Paul","Paul","Paul","Paul","Paul","Paul","Paul","Paul","Paul","Paul","Paul","Paul","Paul","Paul","Paul","Paul","Paul","Paul","Paul","Paul","Paul","Paul","Paul","Paul","Paul","Paul","Paul","Paul","Paul","Paul","Paul","Paul","Paul","Paul","Paul","Paul","Paul","Paul","Paul","Paul","Paul","Paul","Paul","Paul","Paul","Paul","Paul","Paul","Paul","Paul","Paul","Paul","Paul","Paul","Paul","Paul","Paul","Paul","Paul","Paul","Paul","Paul","Paul","Paul","Paul","Paul","Paul","Paul","Paul","Paul","Paul","Paul","Paul","Paul","Paul","Paul","Paul","Paul","Paul","Paul","Paul","Paul","Paul","Paul","Paul","Paul","Paul","Paul","Paul","Paul","Paul","Paul","Paul","Paul","Paul","Paul","Paul","Paul","Paul","Paul","Paul","Paul","Paul","Paul","Paul","Paul","Paul","Paul","Paul","Paul","Paul","Paul","Paul","Paul","Paul","Paul","Paul","Paul","Paul","Paul","Paul","Paul","Paul","Paul","Paul","Paul","Paul","Paul","Paul","Paul","Paul","Paul","Paul","Paul","Paul","Paul","Paul","Paul","Paul","Paul","Paul","Paul","Paul","Paul","Paul","Paul","Paul","Paul","Paul","Paul","Paul","Paul","Paul","Paul","Paul","Paul","Paul","Paul","Paul","Paul","Paul","Paul","Paul","Paul","Paul","Paul","Paul","Paul","Paul","Paul","Paul","Paul","Paul","Paul","Paul","Paul","Paul","Paul","Paul","Paul","Paul","Paul","Paul","Paul","Paul","Paul","Paul","Paul","Paul","Paul","Paul","Paul","Paul","Paul","Paul","Paul","Paul","Paul","Paul","Paul","Paul","Paul","Paul","Paul","Paul","Paul","Paul","Paul","Paul","Paul","Paul","Paul","Paul","Paul","Paul","Paul","Paul","Paul","Paul","Paul","Paul","Paul","Paul","Paul","Paul","Paul","Paul","Paul","Paul","Paul","Paul","Paul","Paul","Paul","Paul","Paul","Paul","Paul","Paul","Paul","Paul","Paul","Paul","Paul","Paul","Paul","Paul","Paul","Paul","Paul","Paul","Paul","Paul","Paul","Paul","Paul","Paul","Paul","Paul","Paul","Paul","Paul","Paul","Paul","Paul","Paul","Paul","Paul","Paul","Paul","Paul","Paul","Paul","Paul","Paul","Paul","Paul","Paul","Paul","Paul","Paul","Paul","Paul","Paul","Paul","Paul","Paul","Paul","Paul","Paul","Paul","Paul","Paul","Paul","Paul","Paul","Paul","Paul","Paul","Paul","Paul","Paul","Paul","Paul","Paul","Paul","Paul","Paul","Paul","Paul","Paul","Paul","Paul","Paul","Paul","Paul","Paul","Paul","Paul","Paul","Paul","Paul","Paul","Paul","Paul","Paul","Paul","Paul","Paul","Paul","Paul","Paul","Paul","Paul","Paul","Paul","Paul","Paul","Paul","Paul","Paul","Paul","Paul","Paul","Paul","Paul","Paul","Paul","Paul","Paul","Paul","Paul","Paul","Paul","Paul","Paul","Paul","Paul","Paul","Paul","Paul","Paul","Paul","Paul","Paul","Paul","Paul","Paul","Paul","Paul","Paul","Paul","Paul","Paul","Paul","Paul","Paul","Paul","Paul","Paul","Paul","Paul","Paul","Paul","Paul","Paul","Paul","Paul","Paul","Paul","Paul","Paul","Paul","Paul","Paul","Paul","Paul","Paul","Paul","Paul","Paul","Paul","Paul","Paul","Paul","Paul","Paul","Paul","Paul","Paul","Paul","Paul","Paul","Paul","Paul","Paul","Paul","Paul","Paul","Paul","Paul","Paul","Paul","Paul","Paul","Paul","Paul","Paul","Paul","Paul","Paul","Paul","Paul","Paul","Paul","Paul","Paul","Paul","Paul","Paul","Paul","Paul","Paul","Paul","Paul","Paul","Paul","Paul","Paul","Paul","Paul","Paul","Paul","Paul","Paul","Paul","Paul","Paul","Paul","Paul","Paul","Paul","Paul","Paul","Paul","Paul","Paul","Paul","Paul","Paul","Paul","Paul","Paul","Paul","Paul","Paul","Paul","Paul","Paul"],["Strawberry Fields Forever - 2015 Mix","Penny Lane - 2017 Mix","Sgt. Pepper's Lonely Hearts Club Band - 2017 Mix","With A Little Help From My Friends - 2017 Mix","Lucy In The Sky With Diamonds - 2017 Mix","Within You Without You - 2017 Mix","A Day In The Life - 2017 Remix","All You Need Is Love - 2015 Mix","I Am The Walrus - 2023 Mix","Hello, Goodbye - 2015 Mix","The Fool On The Hill - 2023 Mix","Magical Mystery Tour - 2023 Mix","Lady Madonna - 2015 Mix","Hey Jude - 2015 Mix","Revolution - 2023 Mix","Back In The U.S.S.R - 2018 Mix","Dear Prudence - 2018 Mix","While My Guitar Gently Weeps - 2018 Mix","Ob-La-Di, Ob-La-Da - 2018 Mix","Glass Onion - 2018 Mix","Blackbird - 2018 Mix","Hey Bulldog - 2023 Mix","Get Back - 2015 Mix","Don’t Let Me Down - 2021 Mix","The Ballad Of John And Yoko - 2015 Mix","Old Brown Shoe - 2023 Mix","Here Comes The Sun - 2019 Mix","Come Together - 2019 Mix","Something - 2019 Mix","Octopus's Garden - 2019 Mix","Oh! Darling - 2019 Mix","I Want You (She's So Heavy) - 2019 Mix","Let It Be - 2021 Mix","Across The Universe - 2021 Mix","I Me Mine - 2021 Mix","The Long And Winding Road - 2021 Mix","Now And Then","Love Me Do - 2023 Mix","Please Please Me - 2023 Mix","I Saw Her Standing There - 2023 Mix","Twist And Shout - 2023 Mix","From Me To You - 2023 Mix","She Loves You - 2023 Mix","I Want To Hold Your Hand - 2023 Mix","This Boy - 2023 Mix","All My Loving - 2023 Mix","Roll Over Beethoven - 2023 Mix","You Really Got A Hold On Me - 2023 Mix","Can't Buy Me Love - 2023 Mix","You Can't Do That - 2023 Mix","A Hard Day's Night - 2023 Mix","And I Love Her - 2023 Mix","Eight Days A Week - 2023 Mix","I Feel Fine - 2023 Mix","Ticket To Ride - 2023 Mix","Yesterday - 2023 Mix","Help! - 2023 Mix","You've Got To Hide Your Love Away - 2023 Mix","We Can Work It Out - 2023 Mix","Day Tripper - 2023 Mix","Drive My Car - 2023 Mix","Norwegian Wood (This Bird Has Flown) - 2023 Mix","Nowhere Man - 2023 Mix","Michelle - 2023 Mix","In My Life - 2023 Mix","If I Needed Someone - 2023 Mix","Girl - 2023 Mix","Paperback Writer - 2022 Mix","Eleanor Rigby - 2022 Mix","Yellow Submarine - 2022 Mix","Taxman - 2022 Mix","Got To Get You Into My Life - 2022 Mix","I'm Only Sleeping - 2022 Mix","Here, There And Everywhere - 2022 Mix","Tomorrow Never Knows - 2022 Mix","Taxman - 2022 Mix","Eleanor Rigby - 2022 Mix","I'm Only Sleeping - 2022 Mix","Love You To - 2022 Mix","Here, There And Everywhere - 2022 Mix","Yellow Submarine - 2022 Mix","She Said She Said - 2022 Mix","Good Day Sunshine - 2022 Mix","And Your Bird Can Sing - 2022 Mix","For No One - 2022 Mix","Doctor Robert - 2022 Mix","I Want To Tell You - 2022 Mix","Got To Get You Into My Life - 2022 Mix","Tomorrow Never Knows - 2022 Mix","Tomorrow Never Knows - Take 1","Tomorrow Never Knows - Mono Mix RM 11","Got To Get You Into My Life - First Version / Take 5","Got To Get You Into My Life - Second Version / Unnumbered Mix","Got To Get You Into My Life - Second Version / Take 8","Love You To - Take 1","Love You To - Unnumbered Rehearsal","Love You To - Take 7","Paperback Writer - Takes 1 &amp; 2 / Backing Track","Rain - Take 5 / Actual Speed","Rain - Take 5 / Slowed Down For Master Tape","Doctor Robert - Take 7","And Your Bird Can Sing - First Version / Take 2","And Your Bird Can Sing - First Version / Take 2 / Giggling","And Your Bird Can Sing - Second Version / Take 5","Taxman - Take 11","I’m Only Sleeping - Rehearsal Fragment","I’m Only Sleeping - Take 2","I’m Only Sleeping - Take 5","I’m Only Sleeping - Mono Mix RM1","Eleanor Rigby - Speech Before Take 2","Eleanor Rigby - Take 2","For No One - Take 10 / Backing Track","Yellow Submarine - Songwriting Work Tape / Part 1","Yellow Submarine - Songwriting Work Tape / Part 2","Yellow Submarine - Take 4 Before Sound Effects","Yellow Submarine - Highlighted Sound Effects","I Want To Tell You - Speech &amp; Take 4","Here, There And Everywhere - Take 6","She Said She Said - John's Demo","She Said She Said - Take 15 / Backing Track Rehearsal","Taxman - Mono","Eleanor Rigby - Mono","I'm Only Sleeping - Mono","Love You To - Mono","Here, There And Everywhere - Mono","Yellow Submarine - Mono","She Said She Said - Mono","Good Day Sunshine - Mono","And Your Bird Can Sing - Mono","For No One - Mono","Doctor Robert - Mono","I Want To Tell You - Mono","Got To Get You Into My Life - Mono","Tomorrow Never Knows - Mono","Paperback Writer - 2022 Stereo Mix","Rain - 2022 Stereo Mix","Paperback Writer - Mono","Rain - Mono","Get Back - Rooftop Performance / Take 1","Get Back - Rooftop Performance / Take 2","Don't Let Me Down - Rooftop Performance / Take 1","I've Got A Feeling - Rooftop Performance / Take 1","One After 909 - Rooftop Performance","Dig A Pony - Rooftop Performance","God Save The Queen - Rooftop Performance / Jam","I've Got A Feeling - Rooftop Performance / Take 2","Don't Let Me Down - Rooftop Performance / Take 2","Get Back - Rooftop Performance / Take 3","Two Of Us - 2021 Mix","Dig A Pony - 2021 Mix","Across The Universe - 2021 Mix","I Me Mine - 2021 Mix","Dig It - 2021 Mix","Let It Be - 2021 Mix","Maggie Mae - 2021 Mix","I've Got A Feeling - 2021 Mix","One After 909 - 2021 Mix","The Long And Winding Road - 2021 Mix","For You Blue - 2021 Mix","Get Back - 2021 Mix","Morning Camera / Two Of Us - Take 4","Maggie Mae / Fancy My Chances With You - Mono","Can You Dig It?","I Don't Know Why I'm Moaning - Speech / Mono","For You Blue - Take 4","Let It Be / Please Please Me / Let It Be - Take 10","I’ve Got A Feeling - Take 10","Dig A Pony - Take 14","Get Back - Take 19","Like Making An Album? - Speech","One After 909 - Take 3","Don’t Let Me Down - First Rooftop Performance","The Long And Winding Road - Take 19","Wake Up Little Susie / I Me Mine - Take 11","On The Day Shift Now / All Things Must Pass - Rehearsals / Mono","Concentrate On The Sound - Mono","Gimme Some Truth - Rehearsal / Mono","I Me Mine - Rehearsal / Mono","She Came In Through The Bathroom Window - Rehearsal","Polythene Pam - Rehearsal / Mono","Octopus’s Garden - Rehearsal / Mono","Oh! Darling - Jam","Get Back - Take 8","The Walk - Jam","Without A Song - Jam","Something - Rehearsal / Mono","Let It Be - Take 28","One After 909 - 1969 Glyn Johns Mix","Medley: I’m Ready (aka Rocker) / Save The Last Dance For Me / Don’t Let Me Down - 1969 Glyn Johns Mix","Don't Let Me Down - 1969 Glyn Johns Mix","Dig A Pony - 1969 Glyn Johns Mix","I've Got A Feeling - 1969 Glyn Johns Mix","Get Back - 1969 Glyn Johns Mix","For You Blue - 1969 Glyn Johns Mix","Teddy Boy - 1969 Glyn Johns Mix","Two Of Us - 1969 Glyn Johns Mix","Maggie Mae - 1969 Glyn Johns Mix","Dig It - 1969 Glyn Johns Mix","Let It Be - 1969 Glyn Johns Mix","The Long And Winding Road - 1969 Glyn Johns Mix","Get Back - Reprise / 1969 Glyn Johns Mix","Across The Universe - 1970 Glyn Johns Mix","I Me Mine - 1970 Glyn Johns Mix","Don’t Let Me Down - Single Version / 2021 Mix","Let It Be - Single Version / 2021 Mix","Come Together - 2019 Mix","Something - 2019 Mix","Maxwell's Silver Hammer - 2019 Mix","Oh! Darling - 2019 Mix","Octopus's Garden - 2019 Mix","I Want You (She's So Heavy) - 2019 Mix","Here Comes The Sun - 2019 Mix","Because - 2019 Mix","You Never Give Me Your Money - 2019 Mix","Sun King - 2019 Mix","Mean Mr Mustard - 2019 Mix","Polythene Pam - 2019 Mix","She Came In Through The Bathroom Window - 2019 Mix","Golden Slumbers - 2019 Mix","Carry That Weight - 2019 Mix","The End - 2019 Mix","Her Majesty - 2019 Mix","I Want You (She's So Heavy) - Trident Recording Session &amp; Reduction Mix","Goodbye - Home Demo","Something - Studio Demo","The Ballad Of John And Yoko - Take 7","Old Brown Shoe - Take 2","Oh! Darling - Take 4","Octopus's Garden - Take 9","You Never Give Me Your Money - Take 36","Her Majesty - Takes 1-3","Golden Slumbers / Carry That Weight - Takes 1-3 / Medley","Here Comes The Sun - Take 9","Maxwell's Silver Hammer - Take 12","Come Together - Take 5","The End - Take 3","Come And Get It - Studio Demo","Sun King - Take 20","Mean Mr. Mustard - Take 20","Polythene Pam - Take 27","She Came In Through The Bathroom Window - Take 27","Because - Take 1 / Instrumental","The Long One - Comprising of ‘You Never Give Me Your Money’, ’Sun King’/’Mean Mr Mustard’, ‘Her Majesty’, ‘Polythene Pam’/’She Came In Through The Bathroom Window’, ’Golden Slumbers’/ ’Carry That Weight’, ’The End’","Something - Take 39 / Instrumental / Strings Only","Golden Slumbers / Carry That Weight - Take 17 / Instrumental / Strings &amp; Brass Only","Back In The U.S.S.R. - 2018 Mix","Dear Prudence - 2018 Mix","Glass Onion - 2018 Mix","Ob-La-Di, Ob-La-Da - 2018 Mix","Wild Honey Pie - 2018 Mix","The Continuing Story Of Bungalow Bill - 2018 Mix","While My Guitar Gently Weeps - 2018 Mix","Happiness Is A Warm Gun - 2018 Mix","Martha My Dear - 2018 Mix","I'm So Tired - 2018 Mix","Blackbird - 2018 Mix","Piggies - 2018 Mix","Rocky Raccoon - 2018 Mix","Don't Pass Me By - 2018 Mix","Why Don't We Do It In The Road? - 2018 Mix","I Will - 2018 Mix","Julia - 2018 Mix","Birthday - 2018 Mix","Yer Blues - 2018 Mix","Mother Nature's Son - 2018 Mix","Everybody's Got Something To Hide Except Me And My Monkey - 2018 Mix","Sexy Sadie - 2018 Mix","Helter Skelter - 2018 Mix","Long, Long, Long - 2018 Mix","Revolution 1 - 2018 Mix","Honey Pie - 2018 Mix","Savoy Truffle - 2018 Mix","Cry Baby Cry - 2018 Mix","Revolution 9 - 2018 Mix","Good Night - 2018 Mix","Back In The U.S.S.R. - Esher Demo","Dear Prudence - Esher Demo","Glass Onion - Esher Demo","Ob-La-Di, Ob-La-Da - Esher Demo","The Continuing Story Of Bungalow Bill - Esher Demo","While My Guitar Gently Weeps - Esher Demo","Happiness Is A Warm Gun - Esher Demo","I'm So Tired - Esher Demo","Blackbird - Esher Demo","Piggies - Esher Demo","Rocky Raccoon - Esher Demo","Julia - Esher Demo","Yer Blues - Esher Demo","Mother Nature's Son - Esher Demo","Everybody's Got Something To Hide Except Me And My Monkey - Esher Demo","Sexy Sadie - Esher Demo","Revolution - Esher Demo","Honey Pie - Esher Demo","Cry Baby Cry - Esher Demo","Sour Milk Sea - Esher Demo","Junk - Esher Demo","Child Of Nature - Esher Demo","Circles - Esher Demo","Mean Mr Mustard - Esher Demo","Polythene Pam - Esher Demo","Not Guilty - Esher Demo","What’s The New Mary Jane - Esher Demo","Revolution 1 - Take 18","A Beginning (Take 4) / Don’t Pass Me By (Take 7)","Blackbird - Take 28","Everybody's Got Something To Hide Except Me And My Monkey - Unnumbered Rehearsal","Good Night - Unnumbered Rehearsal","Good Night - Take 10 With A Guitar Part From Take 5","Good Night - Take 22","Ob-La-Di, Ob-La-Da - Take 3","Revolution - Unnumbered Rehearsal","Revolution - Take 14 / Instrumental Backing Track","Cry Baby Cry - Unnumbered Rehearsal","Helter Skelter - First Version / Take 2","Sexy Sadie - Take 3","While My Guitar Gently Weeps - Acoustic Version / Take 2","Hey Jude - Take 1","St Louis Blues - Studio Jam","Not Guilty - Take 102","Mother Nature's Son - Take 15","Yer Blues - Take 5 With Guide Vocal","What’s The New Mary Jane - Take 1","Rocky Raccoon - Take 8","Back In The U.S.S.R. - Take 5 / Instrumental Backing Track","Dear Prudence - Vocal, Guitar &amp; Drums","Let It Be - Unnumbered Rehearsal","While My Guitar Gently Weeps - Third Version / Take 27","(You're So Square) Baby I Don’t Care - Studio Jam","Helter Skelter - Second Version / Take 17","Glass Onion - Take 10","I Will - Take 13","Blue Moon - Studio Jam","I Will - Take 29","Step Inside Love - Studio Jam","Los Paranoias - Studio Jam","Can You Take Me Back? - Take 1","Birthday - Take 2 / Instrumental Backing Track","Piggies - Take 12 / Instrumental Backing Track","Happiness Is A Warm Gun - Take 19","Honey Pie - Instrumental Backing Track","Savoy Truffle - Instrumental Backing Track","Martha My Dear - Without Brass And Strings","Long, Long, Long - Take 44","I'm So Tired - Take 7","I'm So Tired - Take 14","The Continuing Story Of Bungalow Bill - Take 2","Why Don’t We Do It In The Road? - Take 5","Julia - Two Rehearsals","The Inner Light - Take 6 / Instrumental Backing Track","Lady Madonna - Take 2 / Piano &amp; Drums","Lady Madonna - Backing Vocals From Take 3","Across The Universe - Take 6","Twist And Shout - Live / Remastered","She's A Woman - Live / Remastered","Dizzy Miss Lizzy - Live / Remastered","Ticket To Ride - Live / Remastered","Can't Buy Me Love - Live / Remastered","Things We Said Today - Live / Remastered","Roll Over Beethoven - Live / Remastered","Boys - Live / Remastered","A Hard Day's Night - Live / Remastered","Help! - Live / Remastered","All My Loving - Live / Remastered","She Loves You - Live / Remastered","Long Tall Sally - Live / Remastered","You Can't Do That - Live / Bonus Track","I Want To Hold Your Hand - Live / Bonus Track","Everybody’s Trying To Be My Baby - Live / Bonus Track","Baby's In Black - Live / Bonus Track","Yellow Submarine","Hey Bulldog","Eleanor Rigby","Love You To","All Together Now","Lucy In The Sky With Diamonds","Think For Yourself","Sgt Pepper's Lonely Hearts Club Band","With A Little Help From My Friends","Baby You're A Rich Man","Only A Northern Song","All You Need Is Love","When I'm Sixty Four","Nowhere Man","It's All Too Much","Get Back - Naked Version / Remastered 2013","Dig A Pony - Naked Version / Remastered 2013","For You Blue - Naked Version / Remastered 2013","The Long And Winding Road - Naked Version / Remastered 2013","Two Of Us - Naked Version / Remastered 2013","I've Got A Feeling - Naked Version / Remastered 2013","One After 909 - Naked Version / Remastered 2013","Don't Let Me Down - Naked Version / Remastered 2013","I Me Mine - Naked Version / Remastered 2013","Across The Universe - Naked Version / Remastered 2013","Let It Be - Naked Version / Remastered 2013","And Here We Are Again - Live At The BBC For \"Pop Go The Beatles\" / 23rd July, 1963","Words Of Love - Live At The BBC For \"Pop Go The Beatles\" / 20th August, 1963","How About It, Gorgeous? - Live At The BBC For \"Pop Go The Beatles\" / 30th July, 1963","Do You Want To Know A Secret - Live At The BBC For \"Pop Go The Beatles\" / 30th July, 1963","Lucille - Live At The BBC For \"Pop Go The Beatles\" / 17th September, 1963","Hey Paul…. - Live At The BBC For \"Pop Go The Beatles\" / 25th June, 1963","Anna (Go To Him) - Live At The BBC For \"Pop Go The Beatles\" / 27th August, 1963","Hello! - Live At The BBC For \"Pop Go The Beatles\" / 25th June, 1963","Please Please Me - Live At The BBC For \"Pop Go The Beatles\" / 13th August, 1963","Misery - Live At The BBC For \"Here We Go\" / 12th March, 1963","I'm Talking About You - Live At The BBC For \"Saturday Club\" / 16th March, 1963","A Real Treat - Live At The BBC For \"Pop Go The Beatles\" / 25th June, 1963","Boys - Live At The BBC For \"Pop Go The Beatles\" / 25th June, 1963","Absolutely Fab - Live At The BBC For \"Pop Go The Beatles\" / 25th June, 1963","Chains - Live At The BBC For \"Pop Go The Beatles\" / 25th June, 1963","Ask Me Why - Live At The BBC For \"Pop Go The Beatles\" / 24th September, 1963","Till There Was You - Live At The BBC For \"Pop Go The Beatles\" / 30th July, 1963","Lend Me Your Comb - Live At The BBC For \"Pop Go The Beatles\" / 16th July, 1963","Lower 5E - Live At The BBC For \"Pop Go The Beatles\" / 10th September, 1963","The Hippy Hippy Shake - Live At The BBC For \"Pop Go The Beatles\" / 10th September, 1963","Roll Over Beethoven - Live At The BBC For \"Pop Go The Beatles\" / 3rd September, 1963","There's A Place - Live At The BBC For \"Pop Go The Beatles\" / 3rd September, 1963","Bumper Bundle - Live At The BBC For \"Pop Go The Beatles\" / 25th June, 1963","P.S. I Love You - Live At The BBC For \"Pop Go The Beatles\" / 25th June, 1963","Please Mister Postman - Live At The BBC For \"Pop Go The Beatles\" / 30th July 1963","Beautiful Dreamer - Live At The BBC For \"Saturday Club\" / 26th January, 1963","Devil In Her Heart - Live At The BBC For \"Pop Go The Beatles\" / 25th September, 1963","The 49 Weeks - Live At The BBC For \"Pop Go The Beatles\" / 24th September, 1963","Sure To Fall (In Love With You) - Live At The BBC For \"Pop Go The Beatles\" / 24th September, 1963","Never Mind, Eh? - Live At The BBC For \"Pop Go The Beatles\" / 24th September, 1963","Twist And Shout - Live At The BBC For \"Pop Go The Beatles\" / 6th August, 1963","Bye, Bye - Live At The BBC For \"Pop Go The Beatles\" / 24th September, 1963","John - Pop Profile - Live At The BBC / 30th November, 1965","George - Pop Profile - Live At The BBC / 30th November, 1965","I Saw Her Standing There - Live At The BBC For \"Saturday Club\" / 5th October, 1963","Glad All Over - Live At The BBC For \"Saturday Club\" / 24th August, 1963","Lift Lid Again - Live At The BBC For \"Saturday Club\" / 24th August, 1963","I'll Get You - Live At The BBC For \"Saturday Club\" / 5th October, 1963","She Loves You - Live At The BBC For \"Saturday Club\" / 5th October, 1963","Memphis, Tennessee - Live At The BBC For \"Saturday Club\" / 5th October, 1963","Happy Birthday Dear Saturday Club - Live At The BBC For \"Saturday Club\" / 5th October, 1963","Now Hush, Hush - Live At The BBC For \"Easy Beat\" / 20th October, 1963","From Me To You - Live At The BBC For \"Easy Beat\" / 20th October, 1963","Money (That's What I Want) - Live At The BBC For \"The Beatles Say From Us To You\" / 26th December, 1963","I Want To Hold Your Hand - Live At The BBC For \"The Beatles Say From Us To You\" / 26th December, 1963","Brian Bathtubes - Live At The BBC For \"Saturday Club\" / 21st December, 1963","This Boy - Live At The BBC For \"Saturday Club\" / 21st December, 1963","If I Wasn’t In America - Live At The BBC For \"Saturday Club\" / 15th February, 1964","I Got A Woman - Live At The BBC For \"Saturday Club\" / 4th April, 1964","Long Tall Sally - Live At The BBC For \"Top Gear\" / 16th July, 1964","If I Fell - Live At The BBC For \"Top Gear\" / 16th July, 1964","A Hard Job Writing Them - Live At The BBC For \"Top Gear\" / 16th July, 1964","And I Love Her - Live At The BBC For \"Top Gear\" / 16th July, 1964","Oh, Can’t We? Yes We Can - Live At The BBC For \"From Us To You Say The Beatles\" / 30th March, 1964","You Can't Do That - Live At The BBC For \"Top Gear\" / 16th July, 1964","Honey Don't - Live At The BBC For \"Top Gear\" / 26th November, 1964","I'll Follow The Sun - Live At The BBC For \"Top Gear\" / 26th November, 1964","Green With Black Shutters - Live At The BBC / 1965","Kansas City / Hey-Hey-Hey-Hey! - Live At The BBC For \"Saturday Club\" / 26th December 1964","That’s What We’re Here For - Live At The BBC For \"Top Gear\" / 26th November, 1964","I Feel Fine (Studio Out-take) - Live At The BBC For \"Top Gear\" / 17th November, 1964","Paul - Pop Profile - Live At The BBC / 2nd May, 1966","Ringo - Pop Profile - Live At The BBC / 2nd May, 1966","Beatles Greetings - Live At The BBC For \"The Public Ear\" / 3rd November, 1963","From Us To You - Live At The BBC / Opening Theme From \"From Us To You\" / 1964","Riding On A Bus - Live At The BBC For \"Top Gear\" / 26th November, 1964","I Got A Woman - Live At The BBC For \"Pop Go The Beatles\" / 13th August, 1963","Too Much Monkey Business - Live At The BBC For \"Pop Go The Beatles\" / 10th September, 1963","Keep Your Hands Off My Baby - Live At The BBC For \"Saturday Club\" / 26th January, 1963","I'll Be On My Way - Live At The BBC For \"Side By Side\" / 24th June, 1963","Young Blood - Live At The BBC For \"Pop Go The Beatles\" / 11th June, 1963","A Shot Of Rhythm And Blues - Live At The BBC For \"Pop Go The Beatles\" / 27th August, 1963","Sure To Fall (In Love With You) - Live At The BBC For \"Pop Go The Beatles\" / 18th June, 1963","Some Other Guy - Live At The BBC For \"Easy Beat\" / 23rd June, 1963","Thank You Girl - Live At The BBC For \"Easy Beat\" / 23rd June, 1963","Sha La La La La! - Live At The BBC For \"Pop Go The Beatles\" / 11th June, 1963","Baby It's You - Live At The BBC For \"Pop Go The Beatles\" / 11th June, 1963","That's All Right (Mama) - Live At The BBC For \"Pop Go The Beatles\" / 16th July, 1963","Carol - Live At The BBC For \"Pop Go The Beatles\" / 16th July, 1963","What Is It, George? - Live At The BBC For \"Pop Go The Beatles\" / 16th July, 1963","Soldier Of Love - Live At The BBC For \"Pop Go The Beatles\" / 16th July, 1963","A Little Rhyme - Live At The BBC For \"Pop Go The Beatles\" / 16th July, 1963","Clarabella - Live At The BBC For \"Pop Go The Beatles\" / 16th July, 1963","I'm Gonna Sit Right Down And Cry (Over You) - Live At The BBC For \"Pop Go The Beatles\" / 6th August, 1963","Crying, Waiting, Hoping - Live At The BBC For \"Pop Go The Beatles\" / 6th August, 1963","Dear Wack! - Live At The BBC For \"Saturday Club\" / 24th August, 1963","You Really Got A Hold On Me - Live At The BBC For \"Saturday Club\" / 24th August, 1963","To Know Her Is To Love Her - Live At The BBC For \"Pop Go The Beatles\" / 6th August, 1963","A Taste Of Honey - Live At The BBC For \"Pop Go The Beatles\" / 23rd July, 1963","Long Tall Sally - Live At The BBC For \"Pop Go The Beatles\" / 13th August, 1963","I Saw Her Standing There - Live At The BBC For \"Easy Beat\" / 20th October 1963","The Honeymoon Song - Live At The BBC For \"Pop Go The Beatles\" / 6th August, 1963","Johnny B Goode - Live At The BBC For \"Saturday Club\" / 15th February, 1964","Memphis, Tennessee - Live At The BBC For \"Pop Go The Beatles\" / 30th July, 1963","Lucille - Live At The BBC For \"Saturday Club\" / 5th October, 1963","Can't Buy Me Love - Live At The BBC For \"From Us To You Say The Beatles\" / 10th March, 1964","From Fluff To You - Live At The BBC For \"From Us To You Say The Beatles\" / 10th March, 1964","Till There Was You - Live At The BBC For \"From Us To You Say The Beatles\" / 10th March, 1964","Crinsk Dee Night - Live At The BBC For \"Top Gear\" / 16th July, 1964","A Hard Day's Night - Live At The BBC For \"Top Gear\" / 16th July, 1964","Ringo? Yep! - Live At The BBC For \"From Us To You Say The Beatles\" / 30th March, 1964","I Wanna Be Your Man - Live At The BBC For \"From Us To You Say The Beatles\" / 30th March, 1964","Just A Rumour - Live At The BBC For \"From Us To You Say The Beatles\" / 30th March, 1964","Roll Over Beethoven - Live At The BBC For \"From Us To You Say The Beatles\" / 30th March, 1964","All My Loving - Live At The BBC For \"From Us To You Say The Beatles\" / 30th March, 1964","Things We Said Today - Live At The BBC For \"Top Gear\" / 16th July, 1964","She's A Woman - Live At The BBC For \"Top Gear\" / 26th November, 1964","Sweet Little Sixteen - Live At The BBC For \"Pop Go The Beatles\" / 23rd July, 1963","1822! - Live At The BBC For \"Pop Go The Beatles\" / 23rd July, 1963","Lonesome Tears In My Eyes - Live At The BBC For \"Pop Go The Beatles\" / 23rd July, 1963","Nothin' Shakin' - Live At The BBC For \"Pop Go The Beatles\" / 23rd July, 1963","The Hippy Hippy Shake - Live At The BBC For \"Pop Go The Beatles\" / 30th July, 1963","Glad All Over - Live At The BBC For \"Pop Go The Beatles\" / 20th August, 1963","I Just Don't Understand - Live At The BBC For \"Pop Go The Beatles\" / 20th August, 1963","So How Come (No One Loves Me) - Live At The BBC For \"Pop Go The Beatles\" / 23rd July, 1963","I Feel Fine - Live At The BBC For \"Top Gear\" / 26th November, 1964","I'm A Loser - Live At The BBC For \"Top Gear\" / 26th November, 1964","Everybody's Trying To Be My Baby - Live At The BBC For \"Top Gear\" / 26th November, 1964","Rock and Roll Music - Live At The BBC For \"Saturday Club\" / 26th December, 1964","Ticket To Ride - Live At The BBC For \"The Beatles Invite You To Take A Ticket To Ride\" / 7th June, 1965","Dizzy Miss Lizzy - Live At The BBC For \"The Beatles Invite You To Take A Ticket To Ride\" / 7th June, 1965","Kansas City / Hey-Hey-Hey-Hey! - Live At The BBC For \"Pop Go The Beatles\" / 6th August, 1963","Set Fire To That Lot! - Live At The BBC For \"Pop Go The Beatles\" / 30th July, 1963","Matchbox - Live At The BBC For \"Pop Go The Beatles\" / 30th July, 1963","I Forgot To Remember To Forget - Live At The BBC For \"From Us To You Say The Beatles\" / 18th May, 1964","Love These Goon Shows! - Live At The BBC For \"Pop Go The Beatles\" / 11th June, 1963","I Got To Find My Baby - Live At The BBC For \"Pop Go The Beatles\" / 11th June, 1963","Ooh! My Soul - Live At The BBC For \"Pop Go The Beatles\" / 27th August, 1963","Ooh! My Arms - Live At The BBC For \"Pop Go The Beatles\" / 27th August, 1963","Don't Ever Change - Live At The BBC For \"Pop Go The Beatles\" / 27th August, 1963","Slow Down - Live At The BBC For \"Pop Go The Beatles\" / 20th August, 1963","Honey Don't - Live At The BBC For \"Pop Go The Beatles\" / 3rd September, 1963","Love Me Do - Live At The BBC For \"Pop Go The Beatles\" / 23rd July, 1963","From Us To You - Live At The BBC / Closing Theme From \"From Us To You\" / 1964","Two Of Us - Remastered 2009","Dig A Pony - Remastered 2009","Across The Universe - Remastered 2009","I Me Mine - Remastered 2009","Dig It - Remastered 2009","Let It Be - Remastered 2009","Maggie Mae - Remastered 2009","I've Got A Feeling - Remastered 2009","One After 909 - Remastered 2009","The Long And Winding Road - Remastered 2009","For You Blue - Remastered 2009","Get Back - Remastered 2009","Come Together - Remastered 2009","Something - Remastered 2009","Maxwell's Silver Hammer - Remastered 2009","Oh! Darling - Remastered 2009","Octopus's Garden - Remastered 2009","I Want You (She's So Heavy) - Remastered 2009","Here Comes The Sun - Remastered 2009","Because - Remastered 2009","You Never Give Me Your Money - Remastered 2009","Sun King - Remastered 2009","Mean Mr Mustard - Remastered 2009","Polythene Pam - Remastered 2009","She Came In Through The Bathroom Window - Remastered 2009","Golden Slumbers - Remastered 2009","Carry That Weight - Remastered 2009","The End - Remastered 2009","Her Majesty - Remastered 2009","Yellow Submarine - Remastered 2009","Only A Northern Song - Remastered 2009","All Together Now - Remastered 2009","Hey Bulldog - Remastered 2009","It's All Too Much - Remastered 2009","All You Need Is Love - Remastered 2009","Pepperland - Remastered 2009","Sea Of Time - Remastered 2009","Sea Of Holes - Remastered 2009","Sea Of Monsters - Remastered 2009","March Of The Meanies - Remastered 2009","Pepperland Laid Waste - Remastered 2009","Yellow Submarine In Pepperland - Remastered 2009","Back In The U.S.S.R. - Remastered 2009","Dear Prudence - Remastered 2009","Glass Onion - Remastered 2009","Ob-La-Di, Ob-La-Da - Remastered 2009","Wild Honey Pie - Remastered 2009","The Continuing Story Of Bungalow Bill - Remastered 2009","While My Guitar Gently Weeps - Remastered 2009","Happiness Is A Warm Gun - Remastered 2009","Martha My Dear - Remastered 2009","I'm So Tired - Remastered 2009","Blackbird - Remastered 2009","Piggies - Remastered 2009","Rocky Raccoon - Remastered 2009","Don't Pass Me By - Remastered 2009","Why Don't We Do It In The Road? - Remastered 2009","I Will - Remastered 2009","Julia - Remastered 2009","Birthday - Remastered 2009","Yer Blues - Remastered 2009","Mother Nature's Son - Remastered 2009","Everybody's Got Something To Hide Except Me And My Monkey - Remastered 2009","Sexy Sadie - Remastered 2009","Helter Skelter - Remastered 2009","Long, Long, Long - Remastered 2009","Revolution 1 - Remastered 2009","Honey Pie - Remastered 2009","Savoy Truffle - Remastered 2009","Cry Baby Cry - Remastered 2009","Revolution 9 - Remastered 2009","Good Night - Remastered 2009","Magical Mystery Tour - Remastered 2009","The Fool On The Hill - Remastered 2009","Flying - Remastered 2009","Blue Jay Way - Remastered 2009","Your Mother Should Know - Remastered 2009","I Am The Walrus - Remastered 2009","Hello, Goodbye - Remastered 2009","Strawberry Fields Forever - Remastered 2009","Penny Lane - Remastered 2009","Baby, You're A Rich Man - Remastered 2009","All You Need Is Love - Remastered 2009","Sgt. Pepper's Lonely Hearts Club Band - Remastered 2009","With A Little Help From My Friends - Remastered 2009","Lucy In The Sky With Diamonds - Remastered 2009","Getting Better - Remastered 2009","Fixing A Hole - Remastered 2009","She's Leaving Home - Remastered 2009","Being For The Benefit Of Mr. Kite! - Remastered 2009","Within You Without You - Remastered 2009","When I'm Sixty Four - Remastered 2009","Lovely Rita - Remastered 2009","Good Morning Good Morning - Remastered 2009","Sgt. Pepper's Lonely Hearts Club Band - Reprise / Remastered 2009","A Day In The Life - Remastered 2009","Sgt. Pepper's Lonely Hearts Club Band - Remix","With A Little Help From My Friends - Remix","Lucy In The Sky With Diamonds - Remix","Getting Better - Remix","Fixing A Hole - Remix","She's Leaving Home - Remix","Being For The Benefit Of Mr. Kite! - Remix","Within You Without You - Remix","When I'm Sixty-Four - Remix","Lovely Rita - Remix","Good Morning Good Morning - Remix","Sgt. Pepper's Lonely Hearts Club Band (Reprise) - Remix","A Day In The Life - Remix","Sgt. Pepper's Lonely Hearts Club Band - Take 9 And Speech","With A Little Help From My Friends - Take 1 / False Start And Take 2 / Instrumental","Lucy In The Sky With Diamonds - Take 1","Getting Better - Take 1 / Instrumental And Speech At The End","Fixing A Hole - Speech And Take 3","She's Leaving Home - Take 1 / Instrumental","Being For The Benefit Of Mr. Kite! - Take 4","Within You Without You - Take 1 / Indian Instruments","When I'm Sixty-Four - Take 2","Lovely Rita - Speech And Take 9","Good Morning Good Morning - Take 8","Sgt. Pepper's Lonely Hearts Club Band (Reprise) - Speech And Take 8","A Day In The Life - Take 1 With Hums","Strawberry Fields Forever - Take 7","Strawberry Fields Forever - Take 26","Strawberry Fields Forever - Stereo Mix 2015","Penny Lane - Take 6 / Instrumental","Penny Lane - Stereo Mix 2017","Sgt. Pepper's Lonely Hearts Club Band - Remastered 2017","With A Little Help From My Friends - Remastered 2017","Lucy In The Sky With Diamonds - Remastered 2017","Getting Better - Remastered 2017","Fixing A Hole - Remastered 2017","She's Leaving Home - Remastered 2017","Being For The Benefit Of Mr. Kite! - Remastered 2017","Within You Without You - Remastered 2017","When I'm Sixty-Four - Remastered 2017","Lovely Rita - Remastered 2017","Good Morning Good Morning - Remastered 2017","Sgt. Pepper's Lonely Hearts Club Band (Reprise) - Remastered 2017","A Day In The Life - Remastered 2017","Strawberry Fields Forever - Take 1","Strawberry Fields Forever - Take 4","Strawberry Fields Forever - Take 7","Strawberry Fields Forever - Take 26","Strawberry Fields Forever - Stereo Mix 2015","When I'm Sixty-Four - Take 2","Penny Lane - Take 6 / Instrumental","Penny Lane - Vocal Overdubs And Speech","Penny Lane - Stereo Mix 2017","A Day In The Life - Take 1","A Day In The Life - Take 2","A Day In The Life - Orchestra Overdub","A Day In The Life - Hummed Last Chord / Takes 8, 9, 10 And 11","A Day In The Life - The Last Chord","Sgt. Pepper's Lonely Hearts Club Band - Take 1 / Instrumental","Sgt. Pepper's Lonely Hearts Club Band - Take 9 And Speech","Good Morning Good Morning - Take 1 / Instrumental Breakdown","Good Morning Good Morning - Take 8","Fixing A Hole - Take 1","Fixing A Hole - Speech And Take 3","Being For The Benefit Of Mr. Kite! - Speech From Before Take 1 / Take 4 And Speech At End","Being For The Benefit Of Mr. Kite! - Take 7","Lovely Rita - Speech And Take 9","Lucy In The Sky With Diamonds - Take 1 And Speech At The End","Lucy In The Sky With Diamonds - Speech, False Start And Take 5","Getting Better - Take 1 / Instrumental And Speech At The End","Getting Better - Take 12","Within You Without You - Take 1 / Indian Instruments","Within You Without You - George Coaching The Musicians","She's Leaving Home - Take 1 / Instrumental","She's Leaving Home - Take 6 / Instrumental","With A Little Help From My Friends - Take 1 / False Start And Take 2 / Instrumental","Sgt. Pepper's Lonely Hearts Club Band (Reprise) - Speech And Take 8","Sgt Pepper's Lonely Hearts Club Band","With A Little Help From My Friends","Lucy In The Sky With Diamonds","Getting Better","Fixing A Hole","She's Leaving Home","Being For The Benefit Of Mr Kite!","Within You Without You","When I'm Sixty Four","Lovely Rita","Good Morning Good Morning","Sgt Pepper's Lonely Hearts Club Band (Reprise)","A Day In The Life","Strawberry Fields Forever","Penny Lane","A Day In The Life - First Mono Mix","Lucy In The Sky With Diamonds - Original Mono Mix - No. 11","She's Leaving Home - First Mono Mix","Penny Lane - Capitol Records Mono US Promo Mix","Taxman - Remastered 2009","Eleanor Rigby - Remastered 2009","I'm Only Sleeping - Remastered 2009","Love You To - Remastered 2009","Here, There And Everywhere - Remastered 2009","Yellow Submarine - Remastered 2009","She Said She Said - Remastered 2009","Good Day Sunshine - Remastered 2009","And Your Bird Can Sing - Remastered 2009","For No One - Remastered 2009","Doctor Robert - Remastered 2009","I Want To Tell You - Remastered 2009","Got To Get You Into My Life - Remastered 2009","Tomorrow Never Knows - Remastered 2009","Drive My Car - Remastered 2009","Norwegian Wood (This Bird Has Flown) - Remastered 2009","You Won't See Me - Remastered 2009","Nowhere Man - Remastered 2009","Think For Yourself - Remastered 2009","The Word - Remastered 2009","Michelle - Remastered 2009","What Goes On - Remastered 2009","Girl - Remastered 2009","I'm Looking Through You - Remastered 2009","In My Life - Remastered 2009","Wait - Remastered 2009","If I Needed Someone - Remastered 2009","Run For Your Life - Remastered 2009","Help! - Remastered 2009","The Night Before - Remastered 2009","You've Got To Hide Your Love Away - Remastered 2009","I Need You - Remastered 2009","Another Girl - Remastered 2009","You're Going To Lose That Girl - Remastered 2009","Ticket To Ride - Remastered 2009","Act Naturally - Remastered 2009","It's Only Love - Remastered 2009","You Like Me Too Much - Remastered 2009","Tell Me What You See - Remastered 2009","I've Just Seen A Face - Remastered 2009","Yesterday - Remastered 2009","Dizzy Miss Lizzy - Remastered 2009","No Reply - Remastered 2009","I'm A Loser - Remastered 2009","Baby's In Black - Remastered 2009","Rock And Roll Music - Remastered 2009","I'll Follow The Sun - Remastered 2009","Mr Moonlight - Remastered 2009","Kansas City / Hey-Hey-Hey-Hey - Medley / Remastered 2009","Eight Days A Week - Remastered 2009","Words Of Love - Remastered 2009","Honey Don't - Remastered 2009","Every Little Thing - Remastered 2009","I Don't Want To Spoil The Party - Remastered 2009","What You're Doing - Remastered 2009","Everybody's Trying To Be My Baby - Remastered 2009","A Hard Day's Night - Remastered 2009","I Should Have Known Better - Remastered 2009","If I Fell - Remastered 2009","I'm Happy Just To Dance With You - Remastered 2009","And I Love Her - Remastered 2009","Tell Me Why - Remastered 2009","Can't Buy Me Love - Remastered 2009","Any Time At All - Remastered 2009","I'll Cry Instead - Remastered 2009","Things We Said Today - Remastered 2009","When I Get Home - Remastered 2009","You Can't Do That - Remastered 2009","I'll Be Back - Remastered 2009","It Won't Be Long - Remastered 2009","All I've Got To Do - Remastered 2009","All My Loving - Remastered 2009","Don't Bother Me - Remastered 2009","Little Child - Remastered 2009","Till There Was You - Remastered 2009","Please Mister Postman - Remastered 2009","Roll Over Beethoven - Remastered 2009","Hold Me Tight - Remastered 2009","You Really Got A Hold On Me - Remastered 2009","I Wanna Be Your Man - Remastered 2009","Devil In Her Heart - Remastered 2009","Not A Second Time - Remastered 2009","Money (That's What I Want) - Remastered 2009","I Saw Her Standing There - Remastered 2009","Misery - Remastered 2009","Anna (Go To Him) - Remastered 2009","Chains - Remastered 2009","Boys - Remastered 2009","Ask Me Why - Remastered 2009","Please Please Me - Remastered 2009","Love Me Do - Remastered 2009","P.S. I Love You - Remastered 2009","Baby It's You - Remastered 2009","Do You Want To Know A Secret - Remastered 2009","A Taste Of Honey - Remastered 2009","There's A Place - Remastered 2009","Twist And Shout - Remastered 2009"]],"container":"<table class=\"display\">\n  <thead>\n    <tr>\n      <th> <\/th>\n      <th>Paul.McCartney<\/th>\n      <th>John.Lennon<\/th>\n      <th>beatles_knn<\/th>\n      <th>beatles_rf<\/th>\n      <th>track<\/th>\n    <\/tr>\n  <\/thead>\n<\/table>","options":{"columnDefs":[{"className":"dt-right","targets":[1,2]},{"orderable":false,"targets":0}],"order":[],"autoWidth":false,"orderClasses":false,"orderCellsTop":true},"selection":{"mode":"multiple","selected":null,"target":"row","selectable":null}},"evals":[],"jsHooks":[]}</script>
</div>
</div>
<p>(Note that this table doesn’t seem to be rendering correctly when pushed online).</p>
</section>
</section>
<section id="summary" class="level2">
<h2 class="anchored" data-anchor-id="summary">Summary</h2>
<p>What I like about this is that we can take something about authorship that we know, and then use it to explore authorship of things that are a little more ambiguous. It can also teach us a fair bit about the specific models. Why do we think some performed so much better than others?</p>
<section id="exercise-1" class="level3">
<h3 class="anchored" data-anchor-id="exercise-1">Exercise:</h3>
<p>Let’s try to build an east/west coast rap classifier:</p>
<p>Steps!:</p>
<ul>
<li>Grab data</li>
<li>partition and train model</li>
<li>compare models</li>
<li>use it to predict a new dataset.</li>
</ul>
<div class="cell">
<div class="sourceCode cell-code" id="cb40"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb40-1"><a href="#cb40-1" aria-hidden="true" tabindex="-1"></a>east_coast <span class="ot">&lt;-</span> <span class="fu">get_playlist_audio_features</span>(<span class="st">""</span>, <span class="st">"3pu8tsqTW52aUtYFZN3g4A"</span>)</span>
<span id="cb40-2"><a href="#cb40-2" aria-hidden="true" tabindex="-1"></a>east_coast<span class="sc">$</span>coast <span class="ot">&lt;-</span> <span class="st">"east"</span></span>
<span id="cb40-3"><a href="#cb40-3" aria-hidden="true" tabindex="-1"></a>west_coast <span class="ot">&lt;-</span> <span class="fu">get_playlist_audio_features</span>(<span class="st">""</span>, <span class="st">"6lAOSVxxvGuEhPtZguaeav"</span>)</span>
<span id="cb40-4"><a href="#cb40-4" aria-hidden="true" tabindex="-1"></a>west_coast<span class="sc">$</span>coast <span class="ot">&lt;-</span> <span class="st">"west"</span></span>
<span id="cb40-5"><a href="#cb40-5" aria-hidden="true" tabindex="-1"></a>both <span class="ot">&lt;-</span> <span class="fu">rbind</span>(east_coast, west_coast)</span>
<span id="cb40-6"><a href="#cb40-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb40-7"><a href="#cb40-7" aria-hidden="true" tabindex="-1"></a><span class="do">####standardize and clean a bit</span></span>
<span id="cb40-8"><a href="#cb40-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb40-9"><a href="#cb40-9" aria-hidden="true" tabindex="-1"></a>both <span class="ot">&lt;-</span> both <span class="sc">%&gt;%</span> <span class="fu">select</span>(<span class="fu">c</span>(<span class="st">"coast"</span>, <span class="st">"acousticness"</span>, <span class="st">"energy"</span>, <span class="st">"instrumentalness"</span>, <span class="st">"liveness"</span>, <span class="st">"danceability"</span>, <span class="st">"loudness"</span>, <span class="st">"speechiness"</span>, <span class="st">"valence"</span>))</span>
<span id="cb40-10"><a href="#cb40-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb40-11"><a href="#cb40-11" aria-hidden="true" tabindex="-1"></a>data <span class="ot">&lt;-</span> both[,<span class="sc">-</span><span class="dv">1</span>]</span>
<span id="cb40-12"><a href="#cb40-12" aria-hidden="true" tabindex="-1"></a>coast <span class="ot">&lt;-</span> both[,<span class="dv">1</span>]</span>
<span id="cb40-13"><a href="#cb40-13" aria-hidden="true" tabindex="-1"></a>data <span class="ot">&lt;-</span> data <span class="sc">%&gt;%</span> <span class="fu">mutate_all</span>(<span class="sc">~</span>(<span class="fu">scale</span>(.) <span class="sc">%&gt;%</span> as.vector))</span>
<span id="cb40-14"><a href="#cb40-14" aria-hidden="true" tabindex="-1"></a>both <span class="ot">&lt;-</span> <span class="fu">cbind</span>(coast, data)</span>
<span id="cb40-15"><a href="#cb40-15" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb40-16"><a href="#cb40-16" aria-hidden="true" tabindex="-1"></a><span class="fu">set.seed</span>(<span class="dv">1234</span>)</span>
<span id="cb40-17"><a href="#cb40-17" aria-hidden="true" tabindex="-1"></a>control <span class="ot">&lt;-</span> <span class="fu">trainControl</span>(<span class="at">method=</span><span class="st">"repeatedcv"</span>, <span class="at">number=</span><span class="dv">10</span>, <span class="at">repeats=</span><span class="dv">3</span>)</span>
<span id="cb40-18"><a href="#cb40-18" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb40-19"><a href="#cb40-19" aria-hidden="true" tabindex="-1"></a><span class="co"># train logistic regression</span></span>
<span id="cb40-20"><a href="#cb40-20" aria-hidden="true" tabindex="-1"></a>modelglm <span class="ot">&lt;-</span> <span class="fu">train</span>(coast <span class="sc">~</span> ., <span class="at">data=</span>both, <span class="at">method=</span><span class="st">"glm"</span>, <span class="at">trControl=</span>control)</span>
<span id="cb40-21"><a href="#cb40-21" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb40-22"><a href="#cb40-22" aria-hidden="true" tabindex="-1"></a><span class="co"># train knn</span></span>
<span id="cb40-23"><a href="#cb40-23" aria-hidden="true" tabindex="-1"></a>modelknn <span class="ot">&lt;-</span> <span class="fu">train</span>(coast <span class="sc">~</span> ., <span class="at">data=</span>both, <span class="at">method=</span><span class="st">"kknn"</span>, <span class="at">trControl=</span>control)</span>
<span id="cb40-24"><a href="#cb40-24" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb40-25"><a href="#cb40-25" aria-hidden="true" tabindex="-1"></a><span class="co"># train nnet</span></span>
<span id="cb40-26"><a href="#cb40-26" aria-hidden="true" tabindex="-1"></a>modelnnet <span class="ot">&lt;-</span> <span class="fu">train</span>(coast <span class="sc">~</span> ., <span class="at">data=</span>both, <span class="at">method=</span><span class="st">"nnet"</span>, <span class="at">trControl=</span>control)</span>
<span id="cb40-27"><a href="#cb40-27" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb40-28"><a href="#cb40-28" aria-hidden="true" tabindex="-1"></a><span class="co"># train the LVQ model</span></span>
<span id="cb40-29"><a href="#cb40-29" aria-hidden="true" tabindex="-1"></a>modelLvq <span class="ot">&lt;-</span> <span class="fu">train</span>(coast <span class="sc">~</span> ., <span class="at">data=</span>both, <span class="at">method=</span><span class="st">"lvq"</span>, <span class="at">trControl=</span>control)</span>
<span id="cb40-30"><a href="#cb40-30" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb40-31"><a href="#cb40-31" aria-hidden="true" tabindex="-1"></a><span class="co"># train the GBM model</span></span>
<span id="cb40-32"><a href="#cb40-32" aria-hidden="true" tabindex="-1"></a>modelGbm <span class="ot">&lt;-</span> <span class="fu">train</span>(coast <span class="sc">~</span> ., <span class="at">data=</span>both, <span class="at">method=</span><span class="st">"gbm"</span>, <span class="at">trControl=</span>control)</span>
<span id="cb40-33"><a href="#cb40-33" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb40-34"><a href="#cb40-34" aria-hidden="true" tabindex="-1"></a><span class="co"># train the SVM model</span></span>
<span id="cb40-35"><a href="#cb40-35" aria-hidden="true" tabindex="-1"></a>modelSvm <span class="ot">&lt;-</span> <span class="fu">train</span>(coast <span class="sc">~</span>., <span class="at">data=</span>both, <span class="at">method=</span><span class="st">"svmRadial"</span>, <span class="at">trControl=</span>control)</span>
<span id="cb40-36"><a href="#cb40-36" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb40-37"><a href="#cb40-37" aria-hidden="true" tabindex="-1"></a><span class="co"># train the random forest</span></span>
<span id="cb40-38"><a href="#cb40-38" aria-hidden="true" tabindex="-1"></a>randomforest <span class="ot">&lt;-</span> <span class="fu">train</span>(coast<span class="sc">~</span>., <span class="at">data=</span>both, <span class="at">method=</span><span class="st">"ranger"</span>, <span class="at">trControl=</span>control)</span>
<span id="cb40-39"><a href="#cb40-39" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb40-40"><a href="#cb40-40" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb40-41"><a href="#cb40-41" aria-hidden="true" tabindex="-1"></a><span class="co"># collect resamples</span></span>
<span id="cb40-42"><a href="#cb40-42" aria-hidden="true" tabindex="-1"></a>results <span class="ot">&lt;-</span> <span class="fu">resamples</span>(<span class="fu">list</span>(<span class="at">LVQ=</span>modelLvq, <span class="at">GBM=</span>modelGbm, <span class="at">SVM=</span>modelSvm,<span class="at">knn=</span>modelknn, <span class="at">nnet=</span>modelnnet, <span class="at">glm=</span>modelglm, <span class="at">rf=</span>randomforest))</span>
<span id="cb40-43"><a href="#cb40-43" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb40-44"><a href="#cb40-44" aria-hidden="true" tabindex="-1"></a><span class="co"># summarize the distributions</span></span>
<span id="cb40-45"><a href="#cb40-45" aria-hidden="true" tabindex="-1"></a><span class="fu">summary</span>(results)</span>
<span id="cb40-46"><a href="#cb40-46" aria-hidden="true" tabindex="-1"></a><span class="fu">bwplot</span>(results)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<p><img src="week_7_files/figure-html/unnamed-chunk-34-1.png" class="img-fluid" width="672"></p>
</div>
</div>
<p>Now we can test our model on a dataset from outside of our initial training/testing stage:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb41"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb41-1"><a href="#cb41-1" aria-hidden="true" tabindex="-1"></a>kendrick <span class="ot">&lt;-</span> <span class="fu">get_artist_audio_features</span>(<span class="st">'kendrick lamar'</span>)</span>
<span id="cb41-2"><a href="#cb41-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb41-3"><a href="#cb41-3" aria-hidden="true" tabindex="-1"></a>kendrick <span class="ot">&lt;-</span> kendrick <span class="sc">%&gt;%</span> <span class="fu">select</span>(<span class="fu">c</span>(<span class="st">"acousticness"</span>, <span class="st">"energy"</span>, <span class="st">"instrumentalness"</span>, <span class="st">"liveness"</span>, <span class="st">"danceability"</span>, <span class="st">"loudness"</span>, <span class="st">"speechiness"</span>, <span class="st">"valence"</span>))</span>
<span id="cb41-4"><a href="#cb41-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb41-5"><a href="#cb41-5" aria-hidden="true" tabindex="-1"></a>kendrick <span class="ot">&lt;-</span> kendrick <span class="sc">%&gt;%</span> <span class="fu">mutate_all</span>(<span class="sc">~</span>(<span class="fu">scale</span>(.) <span class="sc">%&gt;%</span> as.vector))</span>
<span id="cb41-6"><a href="#cb41-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb41-7"><a href="#cb41-7" aria-hidden="true" tabindex="-1"></a>kendrick_rf <span class="ot">&lt;-</span> <span class="fu">predict</span>(modelnnet, <span class="at">newdata=</span>kendrick)</span>
<span id="cb41-8"><a href="#cb41-8" aria-hidden="true" tabindex="-1"></a><span class="fu">table</span>(kendrick_rf)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>kendrick_rf
east west 
 104   38 </code></pre>
</div>
<div class="sourceCode cell-code" id="cb43"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb43-1"><a href="#cb43-1" aria-hidden="true" tabindex="-1"></a>classified_data <span class="ot">&lt;-</span> <span class="fu">as.data.frame</span>(<span class="fu">cbind</span>(beatles_knn, beatles_rf, beatles<span class="sc">$</span>track_name))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>


</section>
</section>
</section>

</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const disableStylesheet = (stylesheets) => {
    for (let i=0; i < stylesheets.length; i++) {
      const stylesheet = stylesheets[i];
      stylesheet.rel = 'prefetch';
    }
  }
  const enableStylesheet = (stylesheets) => {
    for (let i=0; i < stylesheets.length; i++) {
      const stylesheet = stylesheets[i];
      stylesheet.rel = 'stylesheet';
    }
  }
  const manageTransitions = (selector, allowTransitions) => {
    const els = window.document.querySelectorAll(selector);
    for (let i=0; i < els.length; i++) {
      const el = els[i];
      if (allowTransitions) {
        el.classList.remove('notransition');
      } else {
        el.classList.add('notransition');
      }
    }
  }
  const toggleColorMode = (alternate) => {
    // Switch the stylesheets
    const alternateStylesheets = window.document.querySelectorAll('link.quarto-color-scheme.quarto-color-alternate');
    manageTransitions('#quarto-margin-sidebar .nav-link', false);
    if (alternate) {
      enableStylesheet(alternateStylesheets);
      for (const sheetNode of alternateStylesheets) {
        if (sheetNode.id === "quarto-bootstrap") {
          toggleBodyColorMode(sheetNode);
        }
      }
    } else {
      disableStylesheet(alternateStylesheets);
      toggleBodyColorPrimary();
    }
    manageTransitions('#quarto-margin-sidebar .nav-link', true);
    // Switch the toggles
    const toggles = window.document.querySelectorAll('.quarto-color-scheme-toggle');
    for (let i=0; i < toggles.length; i++) {
      const toggle = toggles[i];
      if (toggle) {
        if (alternate) {
          toggle.classList.add("alternate");     
        } else {
          toggle.classList.remove("alternate");
        }
      }
    }
    // Hack to workaround the fact that safari doesn't
    // properly recolor the scrollbar when toggling (#1455)
    if (navigator.userAgent.indexOf('Safari') > 0 && navigator.userAgent.indexOf('Chrome') == -1) {
      manageTransitions("body", false);
      window.scrollTo(0, 1);
      setTimeout(() => {
        window.scrollTo(0, 0);
        manageTransitions("body", true);
      }, 40);  
    }
  }
  const isFileUrl = () => { 
    return window.location.protocol === 'file:';
  }
  const hasAlternateSentinel = () => {  
    let styleSentinel = getColorSchemeSentinel();
    if (styleSentinel !== null) {
      return styleSentinel === "alternate";
    } else {
      return false;
    }
  }
  const setStyleSentinel = (alternate) => {
    const value = alternate ? "alternate" : "default";
    if (!isFileUrl()) {
      window.localStorage.setItem("quarto-color-scheme", value);
    } else {
      localAlternateSentinel = value;
    }
  }
  const getColorSchemeSentinel = () => {
    if (!isFileUrl()) {
      const storageValue = window.localStorage.getItem("quarto-color-scheme");
      return storageValue != null ? storageValue : localAlternateSentinel;
    } else {
      return localAlternateSentinel;
    }
  }
  let localAlternateSentinel = 'default';
  // Dark / light mode switch
  window.quartoToggleColorScheme = () => {
    // Read the current dark / light value 
    let toAlternate = !hasAlternateSentinel();
    toggleColorMode(toAlternate);
    setStyleSentinel(toAlternate);
  };
  // Ensure there is a toggle, if there isn't float one in the top right
  if (window.document.querySelector('.quarto-color-scheme-toggle') === null) {
    const a = window.document.createElement('a');
    a.classList.add('top-right');
    a.classList.add('quarto-color-scheme-toggle');
    a.href = "";
    a.onclick = function() { try { window.quartoToggleColorScheme(); } catch {} return false; };
    const i = window.document.createElement("i");
    i.classList.add('bi');
    a.appendChild(i);
    window.document.body.appendChild(a);
  }
  // Switch to dark mode if need be
  if (hasAlternateSentinel()) {
    toggleColorMode(true);
  } else {
    toggleColorMode(false);
  }
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    text: function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
  function tippyHover(el, contentFn) {
    const config = {
      allowHTML: true,
      content: contentFn,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start'
    };
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      return note.innerHTML;
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
<nav class="page-navigation">
  <div class="nav-page nav-page-previous">
      <a href="../class_notes/week_6.html" class="pagination-link">
        <i class="bi bi-arrow-left-short"></i> <span class="nav-page-text">Week 6: Regression and Clustering</span>
      </a>          
  </div>
  <div class="nav-page nav-page-next">
  </div>
</nav>
</div> <!-- /content -->
<footer class="footer">
  <div class="nav-footer">
    <div class="nav-footer-left">© Copyright 2024, Daniel Shanahan</div>   
    <div class="nav-footer-center">
      &nbsp;
    </div>
    <div class="nav-footer-right">This page is built with ❤️ and <a href="https://quarto.org/">Quarto</a>.</div>
  </div>
</footer>



</body></html>